<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>impy.arrays package &mdash; impy 2.1.2.dev0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="impy.arrays.bases package" href="impy.arrays.bases.html" />
    <link rel="prev" title="impy package" href="impy.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> impy
          </a>
              <div class="version">
                2.1.2.dev0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial_axes.html">Axes in impy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial_cmd.html">Command Line Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/index.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">impy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../api.html">API References</a> &raquo;</li>
          <li><a href="impy.html">impy package</a> &raquo;</li>
      <li>impy.arrays package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/apidoc/impy.arrays.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="impy-arrays-package">
<h1>impy.arrays package<a class="headerlink" href="#impy-arrays-package" title="Permalink to this headline">¶</a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="impy.arrays.bases.html">impy.arrays.bases package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="impy.arrays.bases.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="impy.arrays.bases.html#module-impy.arrays.bases.metaarray">impy.arrays.bases.metaarray module</a></li>
<li class="toctree-l2"><a class="reference internal" href="impy.arrays.bases.html#module-impy.arrays.bases.overload">impy.arrays.bases.overload module</a></li>
<li class="toctree-l2"><a class="reference internal" href="impy.arrays.bases.html#module-impy.arrays.bases">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-impy.arrays.axesmixin">
<span id="impy-arrays-axesmixin-module"></span><h2>impy.arrays.axesmixin module<a class="headerlink" href="#module-impy.arrays.axesmixin" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="impy.arrays.axesmixin.AxesMixin">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">impy.arrays.axesmixin.</span></span><span class="sig-name descname"><span class="pre">AxesMixin</span></span><a class="reference internal" href="../_modules/impy/arrays/axesmixin.html#AxesMixin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.axesmixin.AxesMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Abstract class with shape, ndim and axes are defined.</p>
<dl class="py property">
<dt class="sig sig-object py" id="impy.arrays.axesmixin.AxesMixin.axes">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">axes</span></span><em class="property"><span class="pre">:</span> <span class="pre">impy.axes._axes.Axes</span></em><a class="headerlink" href="#impy.arrays.axesmixin.AxesMixin.axes" title="Permalink to this definition">¶</a></dt>
<dd><p>Axes of the array.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.axesmixin.AxesMixin.axisof">
<span class="sig-name descname"><span class="pre">axisof</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/impy/arrays/axesmixin.html#AxesMixin.axisof"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.axesmixin.AxesMixin.axisof" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.axesmixin.AxesMixin.iter">
<span class="sig-name descname"><span class="pre">iter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">impy.axes._axis.Axis</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">israw</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">False</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">typing.Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">typing.Union</span><span class="p"><span class="pre">[</span></span><span class="pre">slice</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/impy/arrays/axesmixin.html#AxesMixin.iter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.axesmixin.AxesMixin.iter" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">iter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">impy.axes._axis.Axis</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">israw</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">True</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Slices</span><span class="p"><span class="pre">,</span> </span><span class="pre">Self</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span></dt>
<dd><p>Iteration along axes. If axes=”tzc”, then equivalent to following pseudo code:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">all_t</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">z</span> <span class="ow">in</span> <span class="n">all_z</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">all_c</span><span class="p">:</span>
            <span class="k">yield</span> <span class="bp">self</span><span class="p">[</span><span class="n">t</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axes</strong> (<em>str</em><em> or </em><em>int</em>) – On which axes iteration is performed. Or the number of spatial dimension.</p></li>
<li><p><strong>israw</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, MetaArray will be returned. If False, np.ndarray will be returned.</p></li>
<li><p><strong>exclude</strong> (<em>str</em><em>, </em><em>optional</em>) – Which axes will be excluded in output. For example, self.axes=”tcyx” and
exclude=”c” then the axes of output will be “tyx” and slice is also correctly
arranged.</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p><em>slice and (np.ndarray or AxesMixin)</em> – slice and a subimage=self[sl]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="impy.arrays.axesmixin.AxesMixin.metadata">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">metadata</span></span><em class="property"><span class="pre">:</span> <span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">typing.Any</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#impy.arrays.axesmixin.AxesMixin.metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="impy.arrays.axesmixin.AxesMixin.ndim">
<span class="sig-name descname"><span class="pre">ndim</span></span><em class="property"><span class="pre">:</span> <span class="pre">int</span></em><a class="headerlink" href="#impy.arrays.axesmixin.AxesMixin.ndim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="impy.arrays.axesmixin.AxesMixin.scale">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">scale</span></span><em class="property"><span class="pre">:</span> <span class="pre">impy.axes._axes.ScaleView</span></em><a class="headerlink" href="#impy.arrays.axesmixin.AxesMixin.scale" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="impy.arrays.axesmixin.AxesMixin.scale_unit">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">scale_unit</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#impy.arrays.axesmixin.AxesMixin.scale_unit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.axesmixin.AxesMixin.set_axis_label">
<span class="sig-name descname"><span class="pre">set_axis_label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_dict</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">MutableMapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">/</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/impy/arrays/axesmixin.html#AxesMixin.set_axis_label"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.axesmixin.AxesMixin.set_axis_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Set labels to an axis (axes).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>_dict</strong> (<em>mapping</em><em>, </em><em>optional</em>) – Mapping from axis to its labels. Labels must have the same length as its
dimensionality.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">set_axis_label</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Blue&quot;</span><span class="p">,</span> <span class="s2">&quot;Green&quot;</span><span class="p">,</span> <span class="s2">&quot;Red&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.axesmixin.AxesMixin.set_scale">
<span class="sig-name descname"><span class="pre">set_scale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/impy/arrays/axesmixin.html#AxesMixin.set_scale"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.axesmixin.AxesMixin.set_scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Set scales of each axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>other</strong> (<em>dict</em><em> or </em><em>object with axes</em>) – New scales. If dict, it should be like {“x”: 0.1, “y”: 0.1}. If MetaArray, only
scales of common axes are copied.</p></li>
<li><p><strong>kwargs</strong> – This enables function call like set_scale(x=0.1, y=0.1).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="impy.arrays.axesmixin.AxesMixin.shape">
<span class="sig-name descname"><span class="pre">shape</span></span><em class="property"><span class="pre">:</span> <span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#impy.arrays.axesmixin.AxesMixin.shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="impy.arrays.axesmixin.AxesMixin.shape_info">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">shape_info</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#impy.arrays.axesmixin.AxesMixin.shape_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.axesmixin.AxesMixin.sizeof">
<span class="sig-name descname"><span class="pre">sizeof</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">impy.axes._axis.Axis</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/impy/arrays/axesmixin.html#AxesMixin.sizeof"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.axesmixin.AxesMixin.sizeof" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.axesmixin.AxesMixin.sizesof">
<span class="sig-name descname"><span class="pre">sizesof</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/impy/arrays/axesmixin.html#AxesMixin.sizesof"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.axesmixin.AxesMixin.sizesof" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="impy.arrays.axesmixin.AxesMixin.spatial_shape">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">spatial_shape</span></span><em class="property"><span class="pre">:</span> <span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#impy.arrays.axesmixin.AxesMixin.spatial_shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="impy.arrays.axesmixin.AxesMixin.value">
<span class="sig-name descname"><span class="pre">value</span></span><em class="property"><span class="pre">:</span> <span class="pre">Any</span></em><a class="headerlink" href="#impy.arrays.axesmixin.AxesMixin.value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="impy.arrays.axesmixin.get_axes_tuple">
<span class="sig-prename descclassname"><span class="pre">impy.arrays.axesmixin.</span></span><span class="sig-name descname"><span class="pre">get_axes_tuple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#impy.arrays.axesmixin.AxesMixin" title="impy.arrays.axesmixin.AxesMixin"><span class="pre">impy.arrays.axesmixin.AxesMixin</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/axesmixin.html#get_axes_tuple"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.axesmixin.get_axes_tuple" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-impy.arrays.imgarray">
<span id="impy-arrays-imgarray-module"></span><h2>impy.arrays.imgarray module<a class="headerlink" href="#module-impy.arrays.imgarray" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">impy.arrays.imgarray.</span></span><span class="sig-name descname"><span class="pre">ImgArray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">AxesLike</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span> <span class="p"><span class="pre">|</span></span> <span class="pre">Path</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">DTypeLike</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#impy.arrays.labeledarray.LabeledArray" title="impy.arrays.labeledarray.LabeledArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">impy.arrays.labeledarray.LabeledArray</span></code></a></p>
<p>An n-D array for image analysis.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.axes">
<span class="sig-name descname"><span class="pre">axes</span></span><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.axes" title="Permalink to this definition">¶</a></dt>
<dd><p>Image axes, such as “zyx” or “tcyx”.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.scale">
<span class="sig-name descname"><span class="pre">scale</span></span><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Physical scale along each axis. For instance, scale of x-axis can be referred
to by <code class="docutils literal notranslate"><span class="pre">img.scale[&quot;x&quot;]</span></code> or <a href="#id1"><span class="problematic" id="id2">``</span></a>img.scale.x</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ScaleDict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.metadata">
<span class="sig-name descname"><span class="pre">metadata</span></span><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Metadata tagged to the image.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.source">
<span class="sig-name descname"><span class="pre">source</span></span><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.source" title="Permalink to this definition">¶</a></dt>
<dd><p>Source file of the image.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Path</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.affine">
<span class="sig-name descname"><span class="pre">affine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matrix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shear</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">translation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'constant'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cval</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefilter</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.affine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.affine" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert image by Affine transformation. 2D Affine transformation is written as:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{bmatrix} y'\\ x' \\1 \end{bmatrix} =
\begin{bmatrix} A_{00} &amp; A_{01} &amp; A_{02} \\
                A_{10} &amp; A_{11} &amp; A_{12} \\
                    0 &amp;      0 &amp;      1  \end{bmatrix}
                \begin{bmatrix} y \\x\\ 1 \end{bmatrix}\end{split}\]</div>
<p>and similarly, n-D Affine transformation can be described as (n+1)-D matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matrix</strong> – Affine transformation parameters. See <code class="docutils literal notranslate"><span class="pre">skimage.transform.AffineTransform</span></code> for details.</p></li>
<li><p><strong>scale</strong> – Affine transformation parameters. See <code class="docutils literal notranslate"><span class="pre">skimage.transform.AffineTransform</span></code> for details.</p></li>
<li><p><strong>rotation</strong> – Affine transformation parameters. See <code class="docutils literal notranslate"><span class="pre">skimage.transform.AffineTransform</span></code> for details.</p></li>
<li><p><strong>shear</strong> – Affine transformation parameters. See <code class="docutils literal notranslate"><span class="pre">skimage.transform.AffineTransform</span></code> for details.</p></li>
<li><p><strong>translation</strong> – Affine transformation parameters. See <code class="docutils literal notranslate"><span class="pre">skimage.transform.AffineTransform</span></code> for details.</p></li>
<li><p><strong>order</strong> (<em>int</em><em>, </em><em>default is 1</em>) – Spline interpolation order.
For more details see <a class="reference external" href="https://scikit-image.org/docs/dev/api/skimage.transform.html#skimage.transform.warp">here</a>.</p></li>
<li><p><strong>mode</strong> (<em>{&quot;reflect&quot;</em><em>, </em><em>&quot;constant&quot;</em><em>, </em><em>&quot;nearest&quot;</em><em>, </em><em>&quot;mirror&quot;</em><em>, </em><em>&quot;wrap&quot;}</em>) – Edge padding mode.</p></li>
<li><p><strong>cval</strong> (<em>float</em><em>, </em><em>default is 0.0</em>) – Constant value for constant padding mode.</p></li>
<li><p><strong>output_shape</strong> (<em>tuple of int</em><em>, </em><em>optional</em>) – Shape of output array.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Transformed image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.area_closing">
<span class="sig-name descname"><span class="pre">area_closing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">area</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">64</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connectivity</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.area_closing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.area_closing" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.area_opening">
<span class="sig-name descname"><span class="pre">area_opening</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">area</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">64</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connectivity</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.area_opening"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.area_opening" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.binning">
<span class="sig-name descname"><span class="pre">binning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">binsize</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_edges</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.binning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.binning" title="Permalink to this definition">¶</a></dt>
<dd><p>Binning of images. This function is similar to <code class="docutils literal notranslate"><span class="pre">rescale</span></code> but is strictly
binned by <span class="math notranslate nohighlight">\(N \times N\)</span> blocks. Also, any numpy functions that accept
“axis” argument are supported for reduce functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>binsize</strong> (<em>int</em><em>, </em><em>default is 2</em>) – Bin size, such as 2x2.</p></li>
<li><p><strong>method</strong> (<em>str</em><em> or </em><em>callable</em><em>, </em><em>default is numpy.mean</em>) – Reduce function applied to each bin.</p></li>
<li><p><strong>check_edges</strong> (<em>bool</em><em>, </em><em>default is True</em>) – If True, only divisible <code class="docutils literal notranslate"><span class="pre">binsize</span></code> is accepted. If False, image is
cropped at the end to match <cite>binsize</cite>.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Binned image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.centroid_sm">
<span class="sig-name descname"><span class="pre">centroid_sm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coords</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Coords</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">nDInt</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filt</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">ImgArray</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">find_sm_kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">MarkerFrame</span></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.centroid_sm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.centroid_sm" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate positions of particles in subpixel precision using centroid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coords</strong> (<a class="reference internal" href="impy.frame.html#impy.frame.frames.MarkerFrame" title="impy.frame.frames.MarkerFrame"><em>MarkerFrame</em></a><em> or </em><em>(</em><em>N</em><em>, </em><em>2</em><em>) </em><em>array</em><em>, </em><em>optional</em>) – Coordinates of peaks. If None, this will be determined by find_sm.</p></li>
<li><p><strong>radius</strong> (<em>int</em><em>, </em><em>default is 4.</em>) – Range to calculate centroids. Rectangular image with size 2r+1 x 2r+1 will be send
to calculate moments.</p></li>
<li><p><strong>filt</strong> (<em>callable</em><em>, </em><em>optional</em>) – For every slice <code class="docutils literal notranslate"><span class="pre">sl</span></code>, label is added only when filt(<cite>input</cite>) == True is satisfied.</p></li>
<li><p><strong>find_sm_kwargs</strong> (<em>keyword arguments</em>) – Parameters passed to <a class="reference internal" href="#impy.arrays.imgarray.ImgArray.find_sm" title="impy.arrays.imgarray.ImgArray.find_sm"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_sm()</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Coordinates of peaks.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="impy.frame.html#impy.frame.frames.MarkerFrame" title="impy.frame.frames.MarkerFrame">MarkerFrame</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray.find_sm" title="impy.arrays.imgarray.ImgArray.find_sm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_sm</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">refine_sm</span></code></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.clip">
<span class="sig-name descname"><span class="pre">clip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">in_range</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span> <span class="p"><span class="pre">|</span></span> <span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span> <span class="p"><span class="pre">|</span></span> <span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">('0%',</span> <span class="pre">'100%')</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.clip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.clip" title="Permalink to this definition">¶</a></dt>
<dd><p>Saturate low/high intensity using np.clip().</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>in_range</strong> (<em>two scalar values</em><em>, </em><em>optional</em>) – range of lower/upper limits, by default (0, 100)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Clipped image with temporal attribute</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.closing">
<span class="sig-name descname"><span class="pre">closing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'reflect'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'constant'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'nearest'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'mirror'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'wrap'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'reflect'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cval</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.closing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.closing" title="Permalink to this definition">¶</a></dt>
<dd><p>Morphological closing.</p>
<p>If input is binary image, the running function will automatically switched to
<code class="docutils literal notranslate"><span class="pre">binary_closing</span></code> to speed up calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em>) – <p>Radius of kernel structure. For instance, if input has two spatial dimensions, <code class="docutils literal notranslate"><span class="pre">radius=1</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
<p>and <code class="docutils literal notranslate"><span class="pre">radius=1.8</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>mode</strong> (<em>{&quot;reflect&quot;</em><em>, </em><em>&quot;constant&quot;</em><em>, </em><em>&quot;nearest&quot;</em><em>, </em><em>&quot;mirror&quot;</em><em>, </em><em>&quot;wrap&quot;}</em>) – Edge padding mode.</p></li>
<li><p><strong>cval</strong> (<em>float</em><em>, </em><em>default is 0.0</em>) – Constant value for constant padding mode.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.coef_filter">
<span class="sig-name descname"><span class="pre">coef_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'reflect'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'constant'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'nearest'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'mirror'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'wrap'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'reflect'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cval</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.coef_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.coef_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Coefficient of variance filter.</p>
<p>For kernel area X, <span class="math notranslate nohighlight">\(\frac{\sqrt{V[X]}}{E[X]}\)</span> is calculated. This filter
is useful for feature extraction from images with uneven background intensity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em>) – <p>Radius of kernel structure. For instance, if input has two spatial dimensions, <code class="docutils literal notranslate"><span class="pre">radius=1</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
<p>and <code class="docutils literal notranslate"><span class="pre">radius=1.8</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
</p></li>
<li><p><strong>mode</strong> (<em>{&quot;reflect&quot;</em><em>, </em><em>&quot;constant&quot;</em><em>, </em><em>&quot;nearest&quot;</em><em>, </em><em>&quot;mirror&quot;</em><em>, </em><em>&quot;wrap&quot;}</em>) – Edge padding mode.</p></li>
<li><p><strong>cval</strong> (<em>float</em><em>, </em><em>default is 0.0</em>) – Constant value for constant padding mode.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.convex_hull">
<span class="sig-name descname"><span class="pre">convex_hull</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.convex_hull"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.convex_hull" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute convex hull image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Convex hull image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.convolve">
<span class="sig-name descname"><span class="pre">convolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kernel</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'reflect'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'constant'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'nearest'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'mirror'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'wrap'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'reflect'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cval</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.convolve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.convolve" title="Permalink to this definition">¶</a></dt>
<dd><p>General linear convolution by running kernel filtering.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kernel</strong> (<em>array-like</em>) – Convolution kernel.</p></li>
<li><p><strong>mode</strong> (<em>{&quot;reflect&quot;</em><em>, </em><em>&quot;constant&quot;</em><em>, </em><em>&quot;nearest&quot;</em><em>, </em><em>&quot;mirror&quot;</em><em>, </em><em>&quot;wrap&quot;}</em>) – Edge padding mode.</p></li>
<li><p><strong>cval</strong> (<em>float</em><em>, </em><em>default is 0.0</em>) – Constant value for constant padding mode.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Convolved image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.corner_harris">
<span class="sig-name descname"><span class="pre">corner_harris</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.corner_harris"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.corner_harris" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate Harris response image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma</strong> (<em>float</em><em> or </em><em>array of float</em><em>, </em><em>optional</em>) – Standard deviation(s) of Gaussian filter.
If a scalar value is given, same standard deviation will applied to all the spatial dimensions.</p></li>
<li><p><strong>k</strong> (<em>float</em><em>, </em><em>optional</em>) – Sensitivity factor to separate corners from edges, typically in range [0, 0.2].
Small values of k result in detection of sharp corners.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Harris response</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.corner_peaks">
<span class="sig-name descname"><span class="pre">corner_peaks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_distance</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percentile</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topn</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topn_per_label</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_border</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_labels</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">MarkerFrame</span></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.corner_peaks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.corner_peaks" title="Permalink to this definition">¶</a></dt>
<dd><p>Find local corner maxima. Slightly different from peak_local_max.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_distance</strong> (<em>int</em><em>, </em><em>default is 1</em>) – Minimum distance allowed for each two peaks. This parameter is slightly
different from that in <code class="docutils literal notranslate"><span class="pre">skimage.feature.peak_local_max</span></code> because here float
input is allowed and every time footprint is calculated.</p></li>
<li><p><strong>percentile</strong> (<em>float</em><em>, </em><em>optional</em>) – Percentile to compute absolute threshold.</p></li>
<li><p><strong>topn</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum number of peaks <strong>for each iteration</strong>.</p></li>
<li><p><strong>topn_per_label</strong> (<em>int</em><em>, </em><em>default is np.inf</em>) – Maximum number of peaks per label.</p></li>
<li><p><strong>use_labels</strong> (<em>bool</em><em>, </em><em>default is True</em>) – If use self.labels when it exists.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DataFrame with columns same as axes of self. For example, if self.axes is “tcyx” then
return value has “t”, “c”, “y” and “x” columns, and sub-frame at t=0, c=0 contains all
the coordinates of corners in the slice at t=0, c=0.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="impy.frame.html#impy.frame.frames.MarkerFrame" title="impy.frame.frames.MarkerFrame">MarkerFrame</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.count_neighbors">
<span class="sig-name descname"><span class="pre">count_neighbors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connectivity</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.count_neighbors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.count_neighbors" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the number or neighbors of binary images. This function can be used for cross section
or branch detection. Only works for binary images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>connectivity</strong> (<em>int</em><em>, </em><em>optional</em>) – Connectivity of pixels. See <code class="docutils literal notranslate"><span class="pre">skimage.measure.label</span></code>.</p></li>
<li><p><strong>mask</strong> (<em>bool</em><em>, </em><em>default is True</em>) – If True, only neighbors of pixels that satisfy self==True is returned.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>uint8 array of the number of neighbors.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">skl</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">threshold</span><span class="p">()</span><span class="o">.</span><span class="n">skeletonize</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edge</span> <span class="o">=</span> <span class="n">skl</span><span class="o">.</span><span class="n">count_neighbors</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">argwhere</span><span class="p">(</span><span class="n">edge</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># get coordinates of filament edges.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">argwhere</span><span class="p">(</span><span class="n">edge</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">)</span> <span class="c1"># get coordinates of filament cross sections.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.diameter_closing">
<span class="sig-name descname"><span class="pre">diameter_closing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">diameter</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connectivity</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.diameter_closing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.diameter_closing" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.diameter_opening">
<span class="sig-name descname"><span class="pre">diameter_opening</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">diameter</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connectivity</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.diameter_opening"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.diameter_opening" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.dilation">
<span class="sig-name descname"><span class="pre">dilation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'reflect'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'constant'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'nearest'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'mirror'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'wrap'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'reflect'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cval</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.dilation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.dilation" title="Permalink to this definition">¶</a></dt>
<dd><p>Morphological dilation. If input is binary image, the running function will automatically switched to
<code class="docutils literal notranslate"><span class="pre">binary_dilation</span></code> to speed up calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em>) – <p>Radius of kernel structure. For instance, if input has two spatial dimensions, <code class="docutils literal notranslate"><span class="pre">radius=1</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
<p>and <code class="docutils literal notranslate"><span class="pre">radius=1.8</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
</p></li>
<li><p><strong>mode</strong> (<em>{&quot;reflect&quot;</em><em>, </em><em>&quot;constant&quot;</em><em>, </em><em>&quot;nearest&quot;</em><em>, </em><em>&quot;mirror&quot;</em><em>, </em><em>&quot;wrap&quot;}</em>) – Edge padding mode.</p></li>
<li><p><strong>cval</strong> (<em>float</em><em>, </em><em>default is 0.0</em>) – Constant value for constant padding mode.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.distance_map">
<span class="sig-name descname"><span class="pre">distance_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.distance_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.distance_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate distance map from binary images.
For instance, <code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">1]</span></code> will be converted to
<code class="docutils literal notranslate"><span class="pre">[3,</span> <span class="pre">2,</span> <span class="pre">1,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">3]</span></code>. Note that returned array will be float in n-D
images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Distance map, the further the brighter</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.dog_filter">
<span class="sig-name descname"><span class="pre">dog_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">low_sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high_sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.dog_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.dog_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Run Difference of Gaussian filter. This function does not support <cite>update</cite>
argument because intensity can be negative.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>low_sigma</strong> (<em>scalar</em><em> or </em><em>array of scalars</em><em>, </em><em>default is 1.</em>) – lower standard deviation(s) of Gaussian.</p></li>
<li><p><strong>high_sigma</strong> (<em>scalar</em><em> or </em><em>array of scalars</em><em>, </em><em>default is x1.6 of low_sigma.</em>) – higher standard deviation(s) of Gaussian.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.doh_filter">
<span class="sig-name descname"><span class="pre">doh_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.doh_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.doh_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Determinant of Hessian filter. This function does not support <cite>update</cite>
argument because output has total different scale of intensity.</p>
<blockquote>
<div><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Because in most cases we want to find only bright dots, eigenvalues larger
than 0 is ignored before computing determinant.</p>
</div>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma</strong> (<em>float</em><em> or </em><em>array of float</em><em>, </em><em>optional</em>) – Standard deviation(s) of Gaussian filter.
If a scalar value is given, same standard deviation will applied to all the spatial dimensions.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.drift_correction">
<span class="sig-name descname"><span class="pre">drift_correction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shift</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Coords</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">ImgArray</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zero_ave</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">along</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">AxisLike</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">affine_kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.drift_correction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.drift_correction" title="Permalink to this definition">¶</a></dt>
<dd><p>Drift correction using iterative Affine translation. If translation vectors <code class="docutils literal notranslate"><span class="pre">shift</span></code>
is not given, then it will be determined using <code class="docutils literal notranslate"><span class="pre">track_drift</span></code> method of ImgArray.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shift</strong> (<em>DataFrame</em><em> or </em><em>(</em><em>N</em><em>, </em><em>D</em><em>) </em><em>array</em><em>, </em><em>optional</em>) – Translation vectors. If DataFrame, it must have columns named with all the symbols
contained in <code class="docutils literal notranslate"><span class="pre">dims</span></code>.</p></li>
<li><p><strong>ref</strong> (<a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><em>ImgArray</em></a><em>, </em><em>optional</em>) – The reference n-D image to determine drift, if <code class="docutils literal notranslate"><span class="pre">shift</span></code> was not given.</p></li>
<li><p><strong>zero_ave</strong> (<em>bool</em><em>, </em><em>default is True</em>) – If True, average shift will be zero.</p></li>
<li><p><strong>along</strong> (<em>AxisLike</em><em>, </em><em>optional</em>) – Along which axis drift will be corrected.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
<li><p><strong>affine_kwargs</strong> – Keyword arguments that will be passed to <code class="docutils literal notranslate"><span class="pre">warp</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Corrected image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<dl>
<dt>Drift correction of multichannel image using the first channel as the reference.</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">drift_correction</span><span class="p">(</span><span class="n">ref</span><span class="o">=</span><span class="n">img</span><span class="p">[</span><span class="s2">&quot;c=0&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.edge_filter">
<span class="sig-name descname"><span class="pre">edge_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'sobel'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.edge_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.edge_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Sobel filter. This filter is useful for edge detection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>{&quot;sobel&quot;</em><em>, </em><em>&quot;farid&quot;</em><em>, </em><em>&quot;scharr&quot;</em><em>, </em><em>&quot;prewitt&quot;}</em><em>, </em><em>default is &quot;sobel&quot;</em>) – Edge operator name.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.edge_grad">
<span class="sig-name descname"><span class="pre">edge_grad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'sobel'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deg</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.phasearray.PhaseArray" title="impy.arrays.phasearray.PhaseArray"><span class="pre">impy.arrays.phasearray.PhaseArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.edge_grad"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.edge_grad" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate gradient direction using horizontal and vertical edge operation. Gradient direction
is the direction with maximum gradient, i.e., intensity increase is largest.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma</strong> (<em>float</em><em> or </em><em>array of float</em><em>, </em><em>optional</em>) – Standard deviation(s) of Gaussian filter.
If a scalar value is given, same standard deviation will applied to all the spatial dimensions.</p></li>
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>{&quot;sobel&quot;</em><em>, </em><em>&quot;farid&quot;</em><em>, </em><em>&quot;scharr&quot;</em><em>, </em><em>&quot;prewitt&quot;}</em><em>, </em><em>default is &quot;sobel&quot;</em>) – Edge operator name.</p></li>
<li><p><strong>deg</strong> (<em>bool</em><em>, </em><em>default is True</em>) – If True, degree rather than radian is returned.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Phase image with range [-180, 180) if deg==True, otherwise [-pi, pi).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.phasearray.PhaseArray" title="impy.arrays.phasearray.PhaseArray">PhaseArray</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<ol class="arabic">
<li><dl>
<dt>Profile filament orientation distribution using histogram of edge gradient.</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">grad</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">edge_grad</span><span class="p">(</span><span class="n">deg</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">grad</span><span class="o">.</span><span class="n">ravel</span><span class="p">(),</span> <span class="n">bins</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</li>
</ol>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.enhance_contrast">
<span class="sig-name descname"><span class="pre">enhance_contrast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.enhance_contrast"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.enhance_contrast" title="Permalink to this definition">¶</a></dt>
<dd><p>Enhance contrast filter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em>) – <p>Radius of kernel structure. For instance, if input has two spatial dimensions, <code class="docutils literal notranslate"><span class="pre">radius=1</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
<p>and <code class="docutils literal notranslate"><span class="pre">radius=1.8</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Contrast enhanced image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.entropy_filter">
<span class="sig-name descname"><span class="pre">entropy_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.entropy_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.entropy_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Running entropy filter. This filter is useful for detecting change in background distribution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em>) – <p>Radius of kernel structure. For instance, if input has two spatial dimensions, <code class="docutils literal notranslate"><span class="pre">radius=1</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
<p>and <code class="docutils literal notranslate"><span class="pre">radius=1.8</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.erosion">
<span class="sig-name descname"><span class="pre">erosion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'reflect'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'constant'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'nearest'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'mirror'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'wrap'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'reflect'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cval</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.erosion"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.erosion" title="Permalink to this definition">¶</a></dt>
<dd><p>Morphological erosion.</p>
<p>If input is binary image, the running function will automatically switched to
<code class="docutils literal notranslate"><span class="pre">binary_erosion</span></code> to speed up calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em>) – <p>Radius of kernel structure. For instance, if input has two spatial dimensions, <code class="docutils literal notranslate"><span class="pre">radius=1</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
<p>and <code class="docutils literal notranslate"><span class="pre">radius=1.8</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
</p></li>
<li><p><strong>mode</strong> (<em>{&quot;reflect&quot;</em><em>, </em><em>&quot;constant&quot;</em><em>, </em><em>&quot;nearest&quot;</em><em>, </em><em>&quot;mirror&quot;</em><em>, </em><em>&quot;wrap&quot;}</em>) – Edge padding mode.</p></li>
<li><p><strong>cval</strong> (<em>float</em><em>, </em><em>default is 0.0</em>) – Constant value for constant padding mode.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.estimate_sigma">
<span class="sig-name descname"><span class="pre">estimate_sigma</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">squeeze</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">PropArray</span> <span class="p"><span class="pre">|</span></span> <span class="pre">float</span></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.estimate_sigma"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.estimate_sigma" title="Permalink to this definition">¶</a></dt>
<dd><p>Wavelet-based estimation of Gaussian noise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>squeeze</strong> (<em>bool</em><em>, </em><em>default is True</em>) – If True and output can be converted to a scalar, then convert it.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Estimated standard deviation. sigma[“t=0;c=1”] means the estimated value of
image slice at t=0 and c=1.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.specials.PropArray" title="impy.arrays.specials.PropArray">PropArray</a> or float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.fft">
<span class="sig-name descname"><span class="pre">fft</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span> <span class="p"><span class="pre">|</span></span> <span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span> <span class="p"><span class="pre">|</span></span> <span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'same'</span><span class="p"><span class="pre">]</span></span> <span class="p"><span class="pre">|</span></span> <span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'square'</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'same'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">double_precision</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.fft"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.fft" title="Permalink to this definition">¶</a></dt>
<dd><p>Fast Fourier transformation. This function returns complex array, which is
inconpatible with some ImgArray functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape</strong> (<em>int</em><em>, </em><em>iterable of int</em><em>, </em><em>&quot;square&quot;</em><em> or </em><em>&quot;same&quot;</em>) – Output shape. Input image is padded or cropped according to this value:
- integers: padded or cropped to the specified shape.
- “square”: padded to smallest 2^N-long square.
- “same” (default): no padding or cropping.</p></li>
<li><p><strong>shift</strong> (<em>bool</em><em>, </em><em>default is True</em>) – If True, call <code class="docutils literal notranslate"><span class="pre">np.fft.fftshift</span></code> in the end.</p></li>
<li><p><strong>double_precision</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, FFT will be calculated using 64-bit float and 128-bit complex.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>FFT image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray.local_dft" title="impy.arrays.imgarray.ImgArray.local_dft"><code class="xref py py-obj docutils literal notranslate"><span class="pre">local_dft</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.fill_hole">
<span class="sig-name descname"><span class="pre">fill_hole</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thr</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span> <span class="p"><span class="pre">|</span></span> <span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'otsu'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.fill_hole"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.fill_hole" title="Permalink to this definition">¶</a></dt>
<dd><p>Filling holes. See skimage’s documents
<a class="reference external" href="https://scikit-image.org/docs/stable/auto_examples/features_detection/plot_holes_and_peaks.html">here</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>thr</strong> (<em>scalar</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – Threshold (value or method) to apply if image is not binary.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Hole-filled image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.find_corners">
<span class="sig-name descname"><span class="pre">find_corners</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.find_corners"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.find_corners" title="Permalink to this definition">¶</a></dt>
<dd><p>Corner detection using Harris response.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma</strong> (<em>float</em><em> or </em><em>array of float</em><em>, </em><em>optional</em>) – Standard deviation(s) of Gaussian filter.
If a scalar value is given, same standard deviation will applied to all the spatial dimensions.</p></li>
<li><p><strong>k</strong> (<em>float</em><em>, </em><em>optional</em>) – Sensitivity factor to separate corners from edges, typically in range [0, 0.2].
Small values of k result in detection of sharp corners.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Coordinates of corners. For details see <code class="docutils literal notranslate"><span class="pre">corner_peaks</span></code> method.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="impy.frame.html#impy.frame.frames.MarkerFrame" title="impy.frame.frames.MarkerFrame">MarkerFrame</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.find_sm">
<span class="sig-name descname"><span class="pre">find_sm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">nDFloat</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'dog'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percentile</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">95</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topn</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_border</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">MarkerFrame</span></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.find_sm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.find_sm" title="Permalink to this definition">¶</a></dt>
<dd><p>Single molecule detection using difference of Gaussian, determinant of Hessian, Laplacian of
Gaussian or normalized cross correlation method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma</strong> (<em>float</em><em>, </em><em>optional</em>) – Standard deviation of puncta.</p></li>
<li><p><strong>method</strong> (<em>str {&quot;dog&quot;</em><em>, </em><em>&quot;doh&quot;</em><em>, </em><em>&quot;log&quot;</em><em>, </em><em>&quot;gaussian&quot;</em><em>, </em><em>&quot;ncc&quot;}</em><em>, </em><em>default is &quot;dog&quot;</em>) – Which filter is used prior to finding local maxima. If “ncc”, a Gaussian particle is used as
the template image.</p></li>
<li><p><strong>cutoff</strong> (<em>float</em><em>, </em><em>optional</em>) – Cutoff value of filtered image generated by <cite>method</cite>.</p></li>
<li><p><strong>percentile</strong> – Passed to <code class="docutils literal notranslate"><span class="pre">peak_local_max()</span></code></p></li>
<li><p><strong>topn</strong> – Passed to <code class="docutils literal notranslate"><span class="pre">peak_local_max()</span></code></p></li>
<li><p><strong>exclude_border</strong> – Passed to <code class="docutils literal notranslate"><span class="pre">peak_local_max()</span></code></p></li>
<li><p><strong>dims</strong> – Passed to <code class="docutils literal notranslate"><span class="pre">peak_local_max()</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Peaks in uint16 type.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="impy.frame.html#impy.frame.frames.MarkerFrame" title="impy.frame.frames.MarkerFrame">MarkerFrame</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Track single molecules and view the tracks with napari.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">coords</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">find_sm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lnk</span> <span class="o">=</span> <span class="n">coords</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">min_dwell</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ip</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ip</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">lnk</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray.centroid_sm" title="impy.arrays.imgarray.ImgArray.centroid_sm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">centroid_sm</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">refine_sm</span></code></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.flood">
<span class="sig-name descname"><span class="pre">flood</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seeds</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Coords</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connectivity</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.flood"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.flood" title="Permalink to this definition">¶</a></dt>
<dd><p>Flood filling with a list of seed points. By repeating skimage’s <code class="docutils literal notranslate"><span class="pre">flood</span></code> function,
this method can perform segmentation of an image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seeds</strong> (<a class="reference internal" href="impy.frame.html#impy.frame.frames.MarkerFrame" title="impy.frame.frames.MarkerFrame"><em>MarkerFrame</em></a><em> or </em><em>(</em><em>N</em><em>, </em><em>D</em><em>) </em><em>array-like</em>) – Seed points to start flood filling.</p></li>
<li><p><strong>connectivity</strong> (<em>int</em><em>, </em><em>optional</em>) – Connectivity of pixels. See <code class="docutils literal notranslate"><span class="pre">skimage.measure.label</span></code>.</p></li>
<li><p><strong>tolerance</strong> (<em>float</em><em>, </em><em>optional</em>) – Intensity deviation within this value will be filled.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Labeled image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.focus_map">
<span class="sig-name descname"><span class="pre">focus_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.specials.PropArray" title="impy.arrays.specials.PropArray"><span class="pre">impy.arrays.specials.PropArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.focus_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.focus_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute focus map using variance of Laplacian method. yx-plane with higher variance is likely a
focal plane because sharper image causes higher value of Laplacian on the edges.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>int</em><em>, </em><em>default is 1</em>) – Radius of Laplacian filter’s kernel.</p></li>
<li><p><strong>{dims}</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Array of variance of Laplacian</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.specials.PropArray" title="impy.arrays.specials.PropArray">PropArray</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<dl>
<dt>Get the focus plane from a 3D image.</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">score</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">focus_map</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">score</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>               <span class="c1"># plot the variation of laplacian focus</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z_focus</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">score</span><span class="p">)</span> <span class="c1"># determine the focus plane</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="p">[</span><span class="n">z_focus</span><span class="p">]</span>               <span class="c1"># get the focus plane</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.gabor_angle">
<span class="sig-name descname"><span class="pre">gabor_angle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_sample</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">180</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lmd</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deg</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.phasearray.PhaseArray" title="impy.arrays.phasearray.PhaseArray"><span class="pre">impy.arrays.phasearray.PhaseArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.gabor_angle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.gabor_angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate filament angles using Gabor filter. For all the candidates of angles, Gabor response is
calculated, and the strongest response is returned as output array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_sample</strong> (<em>int</em><em>, </em><em>default is 180</em>) – Number of <a href="#id4"><span class="problematic" id="id5">`</span></a>theta`s to calculate. By default, -90, -89, …, 89 degree are calculated.</p></li>
<li><p><strong>lmd</strong> (<em>float</em><em>, </em><em>default is 5</em>) – Wave length of Gabor kernel. Make sure that the diameter of the objects you want to detect is
around <cite>lmd/2</cite>.</p></li>
<li><p><strong>sigma</strong> (<em>float</em><em>, </em><em>default is 2.5</em>) – Standard deviation of Gaussian factor of Gabor kernel.</p></li>
<li><p><strong>gamma</strong> (<em>float</em><em>, </em><em>default is 1</em>) – Anisotropy of Gabor kernel, i.e. the standard deviation orthogonal to theta will be sigma/gamma.</p></li>
<li><p><strong>phi</strong> (<em>float</em><em>, </em><em>default is 0</em>) – Phase offset of harmonic factor of Gabor kernel.</p></li>
<li><p><strong>deg</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, degree rather than radian is returned.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Phase image with range [-90, 90) if deg==True, otherwise [-pi/2, pi/2).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray.hessian_angle" title="impy.arrays.imgarray.ImgArray.hessian_angle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">hessian_angle</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.gabor_filter">
<span class="sig-name descname"><span class="pre">gabor_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lmd</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_imag</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.gabor_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.gabor_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a Gabor kernel and convolve it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lmd</strong> (<em>float</em><em>, </em><em>default is 5</em>) – Wave length of Gabor kernel. Make sure that the diameter of the objects you want to detect is
around <cite>lmd/2</cite>.</p></li>
<li><p><strong>theta</strong> (<em>float</em><em>, </em><em>default is 0</em>) – Orientation of harmonic factor of Gabor kernel in radian (x-directional if <cite>theta==0</cite>).</p></li>
<li><p><strong>sigma</strong> (<em>float</em><em> or </em><em>array of float</em><em>, </em><em>optional</em>) – Standard deviation(s) of Gaussian filter.
If a scalar value is given, same standard deviation will applied to all the spatial dimensions.</p></li>
<li><p><strong>gamma</strong> (<em>float</em><em>, </em><em>default is 1</em>) – Anisotropy of Gabor kernel, i.e. the standard deviation orthogonal to theta will be sigma/gamma.</p></li>
<li><p><strong>phi</strong> (<em>float</em><em>, </em><em>default is 0</em>) – Phase offset of harmonic factor of Gabor kernel.</p></li>
<li><p><strong>return_imag</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, a complex image that contains both real and imaginary part of Gabor response is returned.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a> (dtype is float32 or complex64)</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<dl>
<dt>Edge Detection using multi-angle Gabor filtering.</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">thetas</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">deg2rad</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">135</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">4</span><span class="p">,)</span><span class="o">+</span><span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">theta</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">thetas</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">out</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">gabor_filter</span><span class="p">(</span><span class="n">theta</span><span class="o">=</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.gauss_correction">
<span class="sig-name descname"><span class="pre">gauss_correction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.0625</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">median_radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">15</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.gauss_correction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.gauss_correction" title="Permalink to this definition">¶</a></dt>
<dd><p>Correct unevenly distributed excitation light using Gaussian fitting. This method subtracts
background intensity at the same time. If input image is uint, then output value under 0 will
replaced with 0. If you want to quantify background, it is necessary to first convert input
image to float image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ref</strong> (ImgArray, default is <cite>self</cite>.) – Reference image to estimate background.</p></li>
<li><p><strong>scale</strong> (<em>float</em><em>, </em><em>default is 1/16.</em>) – Scale of rough image (to speed up fitting).</p></li>
<li><p><strong>median_radius</strong> (<em>float</em><em>, </em><em>default is 15.</em>) – Radius of median prefilter’s kernel. If smaller than 1, prefiltering will be skipped.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Corrected and background subtracted image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>1. When input image has “ptcyx”-axes, and you want to estimate the background intensity
for each channel by averaging all the positions and times.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img_cor</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">gauss_correction</span><span class="p">(</span><span class="n">ref</span><span class="o">=</span><span class="n">img</span><span class="o">.</span><span class="n">proj</span><span class="p">(</span><span class="s2">&quot;pt&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>2. When input image has “ptcyx”-axes, and you want to estimate the background intensity
for each channel and time point by averaging all the positions.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img_cor</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">gauss_correction</span><span class="p">(</span><span class="n">ref</span><span class="o">=</span><span class="n">img</span><span class="o">.</span><span class="n">proj</span><span class="p">(</span><span class="s2">&quot;p&quot;</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.gauss_sm">
<span class="sig-name descname"><span class="pre">gauss_sm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coords</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Coords</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">nDInt</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">nDFloat</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filt</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percentile</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">95</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_all</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">MarkerFrame</span> <span class="p"><span class="pre">|</span></span> <span class="pre">DataDict</span></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.gauss_sm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.gauss_sm" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate positions of particles in subpixel precision using Gaussian fitting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coords</strong> (<a class="reference internal" href="impy.frame.html#impy.frame.frames.MarkerFrame" title="impy.frame.frames.MarkerFrame"><em>MarkerFrame</em></a><em> or </em><em>(</em><em>N</em><em>, </em><em>2</em><em>) </em><em>array</em><em>, </em><em>optional</em>) – Coordinates of peaks. If None, this will be determined by find_sm.</p></li>
<li><p><strong>radius</strong> (<em>int</em><em>, </em><em>default is 4.</em>) – Fitting range. Rectangular image with size 2r+1 x 2r+1 will be send to Gaussian
fitting function.</p></li>
<li><p><strong>sigma</strong> (<em>float</em><em>, </em><em>default is 1.5</em>) – Expected standard deviation of particles.</p></li>
<li><p><strong>filt</strong> (<em>callable</em><em>, </em><em>optional</em>) – For every slice <cite>sl</cite>, label is added only when filt(<cite>input</cite>) == True is satisfied.
This discrimination is conducted before Gaussian fitting so that stringent filter
will save time.</p></li>
<li><p><strong>percentile</strong> – Passed to peak_local_max()</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Passed to peak_local_max()</p></li>
<li><p><strong>return_all</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, fitting results are all returned as Frame Dict.</p></li>
<li><p><strong>dims</strong> – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>MarkerFrame, if return_all == False</em> – Gaussian centers.</p></li>
<li><p><em>DataDict with keys {means, sigmas, errors}, if return_all == True</em> – Dictionary that contains means, standard deviations and fitting errors.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.gaussfit">
<span class="sig-name descname"><span class="pre">gaussfit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.0625</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p0</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'Powell'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">np.ndarray</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'yx'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.gaussfit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.gaussfit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the image to 2-D Gaussian background.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scale</strong> (<em>float</em><em>, </em><em>default is 1/16.</em>) – Scale of rough image (to speed up fitting).</p></li>
<li><p><strong>p0</strong> (<em>sequence of float</em><em>, </em><em>optional</em>) – Initial parameters.</p></li>
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>optional</em>) – Fitting method. See <cite>scipy.optimize.minimize</cite>.</p></li>
<li><p><strong>mask</strong> (<em>np.ndarray</em><em>, </em><em>optional</em><em>,</em>) – If given, ignore the True region from fitting.</p></li>
<li><p><strong>{dims}</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Fit image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.gaussian_filter">
<span class="sig-name descname"><span class="pre">gaussian_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.gaussian_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.gaussian_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Run Gaussian filter (Gaussian blur).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma</strong> (<em>float</em><em> or </em><em>array of float</em><em>, </em><em>optional</em>) – Standard deviation(s) of Gaussian filter.
If a scalar value is given, same standard deviation will applied to all the spatial dimensions.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.glcm_props">
<span class="sig-name descname"><span class="pre">glcm_props</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">distances</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">properties</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rescale_max</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.glcm_props"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.glcm_props" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute properties of “Gray Level Coocurrence Matrix”. This will take long time
because of pure Python for-loop.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>distances</strong> (<em>array_like</em>) – List of pixel pair distance offsets.</p></li>
<li><p><strong>angles</strong> (<em>array_like</em>) – List of pixel pair angles in radians.</p></li>
<li><p><strong>radius</strong> (<em>int</em>) – Window radius.</p></li>
<li><p><strong>properties</strong> (<em>tuple of str</em>) – contrast, dissimilarity, homogeneity, energy, mean, std, asm, max, entropy</p></li>
<li><p><strong>bins</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of bins.</p></li>
<li><p><strong>rescale_max</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, the contrast of the input image is maximized by multiplying an integer.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>GLCM with additional axes “da”, where “d” means distance and “a” means angle.
If input image has “tzyx” axes then output will have “tzd&lt;yx” axes.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataDict of ImgArray</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<dl>
<dt>Plot GLCM’s IDM and ASM images</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">glcm_props</span><span class="p">([</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">3</span><span class="p">,</span> <span class="n">properties</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;idm&quot;</span><span class="p">,</span><span class="s2">&quot;asm&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span><span class="o">.</span><span class="n">idm</span><span class="p">[</span><span class="s2">&quot;d=0;&lt;=0&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span><span class="o">.</span><span class="n">asm</span><span class="p">[</span><span class="s2">&quot;d=0;&lt;=0&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">()</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.hessian_angle">
<span class="sig-name descname"><span class="pre">hessian_angle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deg</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.phasearray.PhaseArray" title="impy.arrays.phasearray.PhaseArray"><span class="pre">impy.arrays.phasearray.PhaseArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.hessian_angle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.hessian_angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate filament angles using Hessian’s eigenvectors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma</strong> (<em>float</em><em> or </em><em>array of float</em><em>, </em><em>optional</em>) – Standard deviation(s) of Gaussian filter.
If a scalar value is given, same standard deviation will applied to all the spatial dimensions.</p></li>
<li><p><strong>deg</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, returned array will be in degree. Otherwise, radian will be the unit
of angle.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Phase image with range [-90, 90] if <code class="docutils literal notranslate"><span class="pre">deg==True</span></code>, otherwise [-pi/2, pi/2].</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray.gabor_angle" title="impy.arrays.imgarray.ImgArray.gabor_angle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">gabor_angle</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.hessian_eig">
<span class="sig-name descname"><span class="pre">hessian_eig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.hessian_eig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.hessian_eig" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate Hessian’s eigenvalues and eigenvectors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma</strong> (<em>float</em><em> or </em><em>array of float</em><em>, </em><em>optional</em>) – Standard deviation(s) of Gaussian filter.
If a scalar value is given, same standard deviation will applied to all the spatial dimensions.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Arrays of eigenvalues and eigenvectors. The axis <code class="docutils literal notranslate"><span class="pre">&quot;base&quot;</span></code> denotes the index of
eigenvalues. l=0 means the smallest eigenvalue. <code class="docutils literal notranslate"><span class="pre">&quot;dim&quot;</span></code> denotes the index of
spatial dimensions. For 3D image, dim=0 means z-element of an eigenvector.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ImgArray and ImgArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.hessian_eigval">
<span class="sig-name descname"><span class="pre">hessian_eigval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.hessian_eigval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.hessian_eigval" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate Hessian’s eigenvalues for each image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma</strong> (<em>float</em><em> or </em><em>array of float</em><em>, </em><em>optional</em>) – Standard deviation(s) of Gaussian filter.
If a scalar value is given, same standard deviation will applied to all the spatial dimensions.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Array of eigenvalues. The axis <code class="docutils literal notranslate"><span class="pre">&quot;base&quot;</span></code> denotes the index of eigenvalues.
l=0 means the smallest eigenvalue.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<dl>
<dt>Extract filament</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">eig</span> <span class="o">=</span> <span class="o">-</span><span class="n">img</span><span class="o">.</span><span class="n">hessian_eigval</span><span class="p">()[</span><span class="n">ip</span><span class="o">.</span><span class="n">slicer</span><span class="o">.</span><span class="n">base</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eig</span><span class="p">[</span><span class="n">eig</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.highpass_filter">
<span class="sig-name descname"><span class="pre">highpass_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cutoff</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.highpass_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.highpass_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Butterworth high-pass filter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cutoff</strong> (<em>float</em><em> or </em><em>array-like</em><em>, </em><em>default is 0.2</em>) – Cutoff frequency.</p></li>
<li><p><strong>order</strong> (<em>float</em><em>, </em><em>default is 2</em>) – Steepness of cutoff.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.ifft">
<span class="sig-name descname"><span class="pre">ifft</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">real</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">double_precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.ifft"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.ifft" title="Permalink to this definition">¶</a></dt>
<dd><p>Fast Inverse Fourier transformation. Complementary function with <cite>fft()</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>real</strong> (<em>bool</em><em>, </em><em>default is True</em>) – If True, only the real part is returned.</p></li>
<li><p><strong>shift</strong> (<em>bool</em><em>, </em><em>default is True</em>) – If True, call <code class="docutils literal notranslate"><span class="pre">np.fft.ifftshift</span></code> at the first.</p></li>
<li><p><strong>double_precision</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, FFT will be calculated using 64-bit float and 128-bit complex.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>IFFT image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.kalman_filter">
<span class="sig-name descname"><span class="pre">kalman_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gain</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_var</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">along</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'t'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.kalman_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.kalman_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Kalman filter for image smoothing. This function is same as “Kalman Stack Filter” in ImageJ but support
batch processing. This filter is useful for preprocessing of particle tracking.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gain</strong> (<em>float</em><em>, </em><em>default is 0.8</em>) – Filter gain.</p></li>
<li><p><strong>noise_var</strong> (<em>float</em><em>, </em><em>default is 0.05</em>) – Initial estimate of noise variance.</p></li>
<li><p><strong>along</strong> (<em>str</em><em>, </em><em>default is &quot;t&quot;</em>) – Which axis will be the time axis.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.label_threshold">
<span class="sig-name descname"><span class="pre">label_threshold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thr</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span> <span class="p"><span class="pre">|</span></span> <span class="pre">ThreasholdMethod</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'otsu'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filt</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Label</span></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.label_threshold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.label_threshold" title="Permalink to this definition">¶</a></dt>
<dd><p>Make labels with threshold(). Be sure that keyword argument <code class="docutils literal notranslate"><span class="pre">dims</span></code> can be
different (in most cases for &gt;4D images) between threshold() and label().
In this function, both function will have the same <code class="docutils literal notranslate"><span class="pre">dims</span></code> for simplicity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>thr</strong> (<em>float</em><em> or </em><em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Threshold value, or thresholding algorithm.</p></li>
<li><p><strong>{dims}</strong> – </p></li>
<li><p><strong>**kwargs</strong> – Keyword arguments that will passed to function indicated in ‘method’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Newly created label.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.label.Label" title="impy.arrays.label.Label">Label</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.laplacian_filter">
<span class="sig-name descname"><span class="pre">laplacian_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.laplacian_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.laplacian_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Edge detection using Laplacian filter. Kernel is made by <cite>skimage</cite>’s function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>int</em><em>, </em><em>default is 1</em>) – Radius of kernel. Shape of kernel will be (2*radius+1, 2*radius+1).</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.lbp">
<span class="sig-name descname"><span class="pre">lbp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">12</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.lbp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.lbp" title="Permalink to this definition">¶</a></dt>
<dd><p>Local binary pattern feature extraction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p</strong> (<em>int</em><em>, </em><em>default is 12</em>) – Number of circular neighbors</p></li>
<li><p><strong>radius</strong> (<em>int</em><em>, </em><em>default is 1</em>) – Radius of neighbours.</p></li>
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>optional</em>) – Method to determined the pattern.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Local binary pattern image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.local_dft">
<span class="sig-name descname"><span class="pre">local_dft</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">AxesTargetedSlicer</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upsample_factor</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">nDInt</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">double_precision</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.local_dft"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.local_dft" title="Permalink to this definition">¶</a></dt>
<dd><p>Local discrete Fourier transformation (DFT). This function will be useful
for Fourier transformation of small region of an image with a certain
factor of up-sampling. In general FFT takes <span class="math notranslate nohighlight">\(O(N\log{N})\)</span> time, much
faster compared to normal DFT (<span class="math notranslate nohighlight">\(O(N^2)\)</span>). However, If you are
interested in certain region of Fourier space, you don’t have to calculate
all the spectra. In this case DFT is faster and less memory comsuming.</p>
<blockquote>
<div><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The result of <code class="docutils literal notranslate"><span class="pre">local_dft</span></code> will <strong>NOT</strong> be shifted with
<code class="docutils literal notranslate"><span class="pre">np.fft.fftshift</span></code> because in general the center of arrays are
unknown. Also, it is easier to understand <cite>x=0</cite> corresponds to the
center.</p>
</div>
</div></blockquote>
<p>Even whole spectrum is returned, <code class="docutils literal notranslate"><span class="pre">local_dft</span></code> may be faster than FFT with
small and/or non-FFT-friendly shaped image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>) – Key string that specify region to DFT, such as “y=-50:10;x=:80”. With
upsampled spectra, keys corresponds to the coordinate <strong>before</strong>
up-sampling. If you want certain region, say “x=10:20”, this value
will not change with different <code class="docutils literal notranslate"><span class="pre">upsample_factor</span></code>.</p></li>
<li><p><strong>upsample_factor</strong> (<em>int</em><em> or </em><em>array of int</em><em>, </em><em>default is 1</em>) – Up-sampling factor. For instance, when <code class="docutils literal notranslate"><span class="pre">upsample_factor=10</span></code> a single
pixel will be expanded to 10 pixels.</p></li>
<li><p><strong>double_precision</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, FFT will be calculated using 64-bit float and 128-bit complex.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DFT output.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray.fft" title="impy.arrays.imgarray.ImgArray.fft"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fft</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.local_power_spectra">
<span class="sig-name descname"><span class="pre">local_power_spectra</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">AxesTargetedSlicer</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upsample_factor</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">nDInt</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">double_precision</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.local_power_spectra"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.local_power_spectra" title="Permalink to this definition">¶</a></dt>
<dd><p>Return local n-D power spectra of images. See <code class="docutils literal notranslate"><span class="pre">local_dft</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>) – Key string that specify region to DFT, such as “y=-50:10;x=:80”. With Upsampled spectra, keys
corresponds to the coordinate <strong>before</strong> up-sampling. If you want certain region, say “x=10:20”,
this value will not change with different <code class="docutils literal notranslate"><span class="pre">upsample_factor</span></code>.</p></li>
<li><p><strong>upsample_factor</strong> (<em>int</em><em> or </em><em>array of int</em><em>, </em><em>default is 1</em>) – Up-sampling factor. For instance, when <code class="docutils literal notranslate"><span class="pre">upsample_factor=10</span></code> a single pixel will be expanded to
10 pixels.</p></li>
<li><p><strong>norm</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, maximum value of power spectra is adjusted to 1.</p></li>
<li><p><strong>double_precision</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, FFT will be calculated using 64-bit float and 128-bit complex.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Power spectra</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray.power_spectra" title="impy.arrays.imgarray.ImgArray.power_spectra"><code class="xref py py-obj docutils literal notranslate"><span class="pre">power_spectra</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.log_filter">
<span class="sig-name descname"><span class="pre">log_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.log_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.log_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Laplacian of Gaussian filter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma</strong> (<em>float</em><em> or </em><em>array of float</em><em>, </em><em>optional</em>) – Standard deviation(s) of Gaussian filter.
If a scalar value is given, same standard deviation will applied to all the spatial dimensions.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.lowpass_conv_filter">
<span class="sig-name descname"><span class="pre">lowpass_conv_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cutoff</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.lowpass_conv_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.lowpass_conv_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Butterworth low-pass filter in real space. Butterworth kernel is created first using inverse
Fourier transform of weight function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cutoff</strong> (<em>float</em><em> or </em><em>array-like</em><em>, </em><em>default is 0.2</em>) – Cutoff frequency.</p></li>
<li><p><strong>order</strong> (<em>float</em><em>, </em><em>default is 2</em>) – Steepness of cutoff.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.lowpass_filter">
<span class="sig-name descname"><span class="pre">lowpass_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cutoff</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.lowpass_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.lowpass_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Butterworth low-pass filter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cutoff</strong> (<em>float</em><em> or </em><em>array-like</em><em>, </em><em>default is 0.2</em>) – Cutoff frequency.</p></li>
<li><p><strong>order</strong> (<em>float</em><em>, </em><em>default is 2</em>) – Steepness of cutoff.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.lucy">
<span class="sig-name descname"><span class="pre">lucy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">psf</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">niter</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eps</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.lucy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.lucy" title="Permalink to this definition">¶</a></dt>
<dd><p>Deconvolution of N-dimensional image, using Richardson-Lucy’s algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>psf</strong> (<em>np.ndarray</em>) – Point spread function.</p></li>
<li><p><strong>niter</strong> (<em>int</em><em>, </em><em>default is 50.</em>) – Number of iterations.</p></li>
<li><p><strong>eps</strong> (<em>float</em><em>, </em><em>default is 1e-5</em>) – During deconvolution, division by small values in the convolve image of estimation and
PSF may cause divergence. Therefore, division by values under <cite>eps</cite> is substituted
to zero.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Deconvolved image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray.lucy_tv" title="impy.arrays.imgarray.ImgArray.lucy_tv"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lucy_tv</span></code></a>, <a class="reference internal" href="#impy.arrays.imgarray.ImgArray.wiener" title="impy.arrays.imgarray.ImgArray.wiener"><code class="xref py py-obj docutils literal notranslate"><span class="pre">wiener</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.lucy_tv">
<span class="sig-name descname"><span class="pre">lucy_tv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">psf</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iter</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lmd</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eps</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.lucy_tv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.lucy_tv" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Deconvolution of N-dimensional image, using Richardson-Lucy’s algorithm with
total variance regularization (so called RL-TV algorithm). The TV regularization
factor at pixel position <span class="math notranslate nohighlight">\(x\)</span>, <span class="math notranslate nohighlight">\(F_{reg}(x)\)</span>, is calculated as:</p>
<div class="math notranslate nohighlight">
\[F_{reg}(x) = \frac{1}{1-\lambda \cdot div(\frac{grad(I(x)}{|grad(I(x))|})}\]</div>
<p>(<span class="math notranslate nohighlight">\(I(x)\)</span>: image, <span class="math notranslate nohighlight">\(\lambda\)</span>: constant)</p>
<p>and this factor is multiplied for every estimation made in each iteration.</p>
<dl>
<dt>psf<span class="classifier">np.ndarray</span></dt><dd><p>Point spread function.</p>
</dd>
<dt>max_iter<span class="classifier">int, default is 50.</span></dt><dd><p>Maximum number of iterations.</p>
</dd>
<dt>lmd<span class="classifier">float, default is 1e-3</span></dt><dd><p>The constant lambda of TV regularization factor.</p>
</dd>
<dt>tol<span class="classifier">float, default is 1e-3</span></dt><dd><p>Iteration stops if regularized absolute summation is lower than this
value.</p>
<p>:math:<a href="#id6"><span class="problematic" id="id7">`</span></a>frac{sum_{x}|I’(x) - I(x)|}</p>
</dd>
</dl>
</div></blockquote>
<p>{sum_{x}|I(x)|}`</p>
<blockquote>
<div><blockquote>
<div><p>(<span class="math notranslate nohighlight">\(I'(x)\)</span>: estimation of <span class="math notranslate nohighlight">\(k+1\)</span>-th iteration, <span class="math notranslate nohighlight">\(I(x)\)</span>:
estimation of <span class="math notranslate nohighlight">\(k\)</span>-th iteration)</p>
</div></blockquote>
<dl class="simple">
<dt>eps<span class="classifier">float, default is 1e-5</span></dt><dd><p>During deconvolution, division by small values in the convolve image of
estimation and PSF may cause divergence. Therefore, division by values
under <code class="docutils literal notranslate"><span class="pre">eps</span></code> is substituted to zero.</p>
</dd>
<dt>dims<span class="classifier">str or int, optional</span></dt><dd><p>Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p>
</dd>
<dt>update<span class="classifier">bool, default is False</span></dt><dd><p>If True, input itself is updated to the output.</p>
</dd>
</dl>
<dl class="simple">
<dt>ImgArray</dt><dd><p>Deconvolved image.</p>
</dd>
</dl>
<ul class="simple">
<li><p>Dey, N., Blanc-Féraud, L., Zimmer, C., Roux, P., Kam, Z., Olivo-Marin, J. C.,
&amp; Zerubia, J. (2004). 3D microscopy deconvolution using Richardson-Lucy algorithm
with total variation regularization (Doctoral dissertation, INRIA).</p></li>
</ul>
<p>lucy
wiener</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.mean_filter">
<span class="sig-name descname"><span class="pre">mean_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'reflect'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'constant'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'nearest'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'mirror'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'wrap'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'reflect'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cval</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.mean_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.mean_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Mean filter. Kernel is filled with same values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em>) – <p>Radius of kernel structure. For instance, if input has two spatial dimensions, <code class="docutils literal notranslate"><span class="pre">radius=1</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
<p>and <code class="docutils literal notranslate"><span class="pre">radius=1.8</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
</p></li>
<li><p><strong>mode</strong> (<em>{&quot;reflect&quot;</em><em>, </em><em>&quot;constant&quot;</em><em>, </em><em>&quot;nearest&quot;</em><em>, </em><em>&quot;mirror&quot;</em><em>, </em><em>&quot;wrap&quot;}</em>) – Edge padding mode.</p></li>
<li><p><strong>cval</strong> (<em>float</em><em>, </em><em>default is 0.0</em>) – Constant value for constant padding mode.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.median_filter">
<span class="sig-name descname"><span class="pre">median_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'reflect'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'constant'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'nearest'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'mirror'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'wrap'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'reflect'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cval</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.median_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.median_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Running multi-dimensional median filter.</p>
<p>This filter is useful for deleting outliers generated by noise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em>) – <p>Radius of kernel structure. For instance, if input has two spatial dimensions, <code class="docutils literal notranslate"><span class="pre">radius=1</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
<p>and <code class="docutils literal notranslate"><span class="pre">radius=1.8</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
</p></li>
<li><p><strong>mode</strong> (<em>{&quot;reflect&quot;</em><em>, </em><em>&quot;constant&quot;</em><em>, </em><em>&quot;nearest&quot;</em><em>, </em><em>&quot;mirror&quot;</em><em>, </em><em>&quot;wrap&quot;}</em>) – Edge padding mode.</p></li>
<li><p><strong>cval</strong> (<em>float</em><em>, </em><em>default is 0.0</em>) – Constant value for constant padding mode.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.ncc_filter">
<span class="sig-name descname"><span class="pre">ncc_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">template:</span> <span class="pre">np.ndarray,</span> <span class="pre">mode:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'constant',</span> <span class="pre">cval:</span> <span class="pre">float</span> <span class="pre">|</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">Callable[[np.ndarray],</span> <span class="pre">float]</span> <span class="pre">=</span> <span class="pre">&lt;function</span> <span class="pre">mean&gt;,</span> <span class="pre">*,</span> <span class="pre">dims:</span> <span class="pre">Dims</span> <span class="pre">=</span> <span class="pre">None</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.ncc_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.ncc_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Template matching using normalized cross correlation (NCC) method. This function is basically
identical to that in <cite>skimage.feature</cite>, but is optimized for batch processing and improved
readability.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>template</strong> (<em>np.ndarray</em>) – Template image. Must be 2 or 3 dimensional.</p></li>
<li><p><strong>{mode}</strong> – </p></li>
<li><p><strong>cval</strong> (<em>float</em><em>, </em><em>optional</em>) – Background intensity. If not given, it will calculated as the mean value of
the original image.</p></li>
<li><p><strong>{dims}</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Response image with values between -1 and 1.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.opening">
<span class="sig-name descname"><span class="pre">opening</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'reflect'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'constant'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'nearest'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'mirror'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'wrap'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'reflect'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cval</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.opening"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.opening" title="Permalink to this definition">¶</a></dt>
<dd><p>Morphological opening. If input is binary image, the running function will automatically switched to
<code class="docutils literal notranslate"><span class="pre">binary_opening</span></code> to speed up calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em>) – <p>Radius of kernel structure. For instance, if input has two spatial dimensions, <code class="docutils literal notranslate"><span class="pre">radius=1</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
<p>and <code class="docutils literal notranslate"><span class="pre">radius=1.8</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
</p></li>
<li><p><strong>mode</strong> (<em>{&quot;reflect&quot;</em><em>, </em><em>&quot;constant&quot;</em><em>, </em><em>&quot;nearest&quot;</em><em>, </em><em>&quot;mirror&quot;</em><em>, </em><em>&quot;wrap&quot;}</em>) – Edge padding mode.</p></li>
<li><p><strong>cval</strong> (<em>float</em><em>, </em><em>default is 0.0</em>) – Constant value for constant padding mode.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.pad">
<span class="sig-name descname"><span class="pre">pad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pad_width</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'reflect'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'constant'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'nearest'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'mirror'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'wrap'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'constant'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.pad"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.pad" title="Permalink to this definition">¶</a></dt>
<dd><p>Pad image only for spatial dimensions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pad_width</strong> – See documentation of np.pad().</p></li>
<li><p><strong>mode</strong> – See documentation of np.pad().</p></li>
<li><p><strong>**kwargs</strong> – See documentation of np.pad().</p></li>
<li><p><strong>dims</strong> (<em>int</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – Which dimension to pad.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Padded image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Suppose <code class="docutils literal notranslate"><span class="pre">img</span></code> has zyx-axes.</p>
<ol class="arabic">
<li><dl>
<dt>Padding 5 pixels in zyx-direction:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">pad</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>Padding 5 pixels in yx-direction:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">pad</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">dims</span><span class="o">=</span><span class="s2">&quot;yx&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>Padding 5 pixels in yx-direction and 2 pixels in z-direction:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">pad</span><span class="p">([(</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">)])</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>Padding 10 pixels in z-(-)-direction and 5 pixels in z-(+)-direction.</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">pad</span><span class="p">([(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">)],</span> <span class="n">dims</span><span class="o">=</span><span class="s2">&quot;z&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</li>
</ol>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.pad_defocus">
<span class="sig-name descname"><span class="pre">pad_defocus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kernel</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bg</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.pad_defocus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.pad_defocus" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a z-directional padded image by defocusing the original image. This padding is
useful when applying FFT to a 3D image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kernel</strong> (<em>0-</em><em>, </em><em>1-</em><em> or </em><em>3-dimensional array.</em>) – If 0- (scalar) or 1-dimensional array was given, this is interpreted as standard
deviation of Gaussian kernel. If 3-dimensional array was given, this is directly
used as convolution kernel. Other dimension will raise ValueError.</p></li>
<li><p><strong>depth</strong> (<em>int</em><em>, </em><em>default is 3</em>) – Depth of defocusing. For an image with z-axis size L, then output image will have
size L + 2*depth.</p></li>
<li><p><strong>width</strong> (<em>int</em><em>, </em><em>default is 6</em>) – Width of defocusing. For an image with yx-shape (M, N), then output image will have
shape (M * 2*width, N + 2*width).</p></li>
<li><p><strong>bg</strong> (<em>float</em><em>, </em><em>optional</em>) – Background intensity. If not given, it will calculated as the minimum value of
the original image.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Padded image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>depth = 2</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">----|</span>   <span class="o">|----|</span> <span class="n">o</span> <span class="o">|--</span>     <span class="n">o</span> <span class="o">...</span> <span class="n">center</span> <span class="n">of</span> <span class="n">kernel</span>
<span class="o">----|</span> <span class="n">o</span> <span class="o">|----|</span>   <span class="o">|--</span>
<span class="o">++++|</span>   <span class="o">|++++|</span><span class="n">___</span><span class="o">|++</span>  <span class="o">&lt;-</span> <span class="n">the</span> <span class="n">upper</span> <span class="n">edge</span> <span class="n">of</span> <span class="n">original</span> <span class="n">image</span>
<span class="o">++++|</span><span class="n">___</span><span class="o">|+++++++++++</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.peak_local_max">
<span class="sig-name descname"><span class="pre">peak_local_max</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_distance</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percentile</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topn</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topn_per_label</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_border</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_labels</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">MarkerFrame</span></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.peak_local_max"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.peak_local_max" title="Permalink to this definition">¶</a></dt>
<dd><p>Find local maxima. This algorithm corresponds to ImageJ’s ‘Find Maxima’ but is more flexible.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_distance</strong> (<em>float</em><em>, </em><em>default is 1.0</em>) – Minimum distance allowed for each two peaks. This parameter is slightly
different from that in <code class="docutils literal notranslate"><span class="pre">skimage.feature.peak_local_max</span></code> because here float
input is allowed and every time footprint is calculated.</p></li>
<li><p><strong>percentile</strong> (<em>float</em><em>, </em><em>optional</em>) – Percentile to compute absolute threshold.</p></li>
<li><p><strong>topn</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum number of peaks <strong>for each iteration</strong>.</p></li>
<li><p><strong>topn_per_label</strong> (<em>int</em><em>, </em><em>default is np.inf</em>) – Maximum number of peaks per label.</p></li>
<li><p><strong>use_labels</strong> (<em>bool</em><em>, </em><em>default is True</em>) – If use self.labels when it exists.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DataFrame with columns same as axes of self. For example, if self.axes is “tcyx” then
return value has “t”, “c”, “y” and “x” columns, and sub-frame at t=0, c=0 contains all
the coordinates of peaks in the slice at t=0, c=0.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="impy.frame.html#impy.frame.frames.MarkerFrame" title="impy.frame.frames.MarkerFrame">MarkerFrame</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.power_spectra">
<span class="sig-name descname"><span class="pre">power_spectra</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span> <span class="p"><span class="pre">|</span></span> <span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span> <span class="p"><span class="pre">|</span></span> <span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'same'</span><span class="p"><span class="pre">]</span></span> <span class="p"><span class="pre">|</span></span> <span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'square'</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'same'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zero_norm</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">double_precision</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.power_spectra"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.power_spectra" title="Permalink to this definition">¶</a></dt>
<dd><p>Return n-D power spectra of images, which is defined as:</p>
<div class="math notranslate nohighlight">
\[P = Re(F[I_{img}])^2 + Im(F[I_{img}])^2\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape</strong> (<em>int</em><em>, </em><em>iterable of int</em><em>, </em><em>&quot;square&quot;</em><em> or </em><em>&quot;same&quot;</em>) – Output shape. Input image is padded or cropped according to this value:
- integers: padded or cropped to the specified shape.
- “square”: padded to smallest 2^N-long square.
- “same” (default): no padding or cropping.</p></li>
<li><p><strong>norm</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, maximum value of power spectra is adjusted to 1.</p></li>
<li><p><strong>double_precision</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, FFT will be calculated using 64-bit float and 128-bit complex.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Power spectra</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray.local_power_spectra" title="impy.arrays.imgarray.ImgArray.local_power_spectra"><code class="xref py py-obj docutils literal notranslate"><span class="pre">local_power_spectra</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.proj">
<span class="sig-name descname"><span class="pre">proj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">AxisLike</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span> <span class="p"><span class="pre">|</span></span> <span class="pre">Callable</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.proj"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.proj" title="Permalink to this definition">¶</a></dt>
<dd><p>Projection along any axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axis</strong> (<em>str</em><em>, </em><em>optional</em>) – Along which axis projection will be calculated. If None, most plausible one will be chosen.</p></li>
<li><p><strong>method</strong> (<em>str</em><em> or </em><em>callable</em><em>, </em><em>default is mean-projection.</em>) – Projection method. If str is given, it will converted to numpy function.</p></li>
<li><p><strong>mask</strong> (<em>array-like</em><em>, </em><em>optional</em>) – If provided, input image will be converted to np.ma.array and <code class="docutils literal notranslate"><span class="pre">method</span></code> will also be interpreted
as an masked functio if possible.</p></li>
<li><p><strong>**kwargs</strong> – Other keyword arguments that will passed to projection function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Projected image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.radial_profile">
<span class="sig-name descname"><span class="pre">radial_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nbin</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_max</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.specials.PropArray" title="impy.arrays.specials.PropArray"><span class="pre">impy.arrays.specials.PropArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.radial_profile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.radial_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate radial profile of images. Scale along each axis will be considered,
i.e., rather ellipsoidal profile will be calculated instead if scales are
different between axes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nbin</strong> (<em>int</em><em>, </em><em>default is 32</em>) – Number of bins.</p></li>
<li><p><strong>center</strong> (<em>iterable of float</em><em>, </em><em>optional</em>) – The coordinate of center of radial profile. By default, the center of image
is used.</p></li>
<li><p><strong>r_max</strong> (<em>float</em><em>, </em><em>optional</em>) – Maximum radius to make profile. Region 0 &lt;= r &lt; r_max will be split into
<code class="docutils literal notranslate"><span class="pre">nbin</span></code> rings (or shells). <strong>Scale must be considered</strong> because scales of
each axis may vary.</p></li>
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>default is &quot;mean&quot;</em>) – Reduce function. Basic statistics functions are supported in <code class="docutils literal notranslate"><span class="pre">scipy.ndimage</span></code>
but their names are not consistent with those in <cite>numpy</cite>. Use <cite>numpy</cite>’s names
here.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Radial profile stored in x-axis by default. If input image has tzcyx-axes, then an array
with tcx-axes will be returned.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.specials.PropArray" title="impy.arrays.specials.PropArray">PropArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.random_walker">
<span class="sig-name descname"><span class="pre">random_walker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">130</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'cg_j'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.label.Label" title="impy.arrays.label.Label"><span class="pre">impy.arrays.label.Label</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.random_walker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.random_walker" title="Permalink to this definition">¶</a></dt>
<dd><p>Random walker segmentation. Only wrapped skimage segmentation. <code class="docutils literal notranslate"><span class="pre">self.labels</span></code> will be
segmented.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>beta</strong> – see skimage.segmentation.random_walker</p></li>
<li><p><strong>mode</strong> – see skimage.segmentation.random_walker</p></li>
<li><p><strong>tol</strong> – see skimage.segmentation.random_walker</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Relabeled image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.regionprops">
<span class="sig-name descname"><span class="pre">regionprops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">properties</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span> <span class="p"><span class="pre">|</span></span> <span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">('mean_intensity',)</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_properties</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">]</span></span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataDict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">PropArray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.regionprops"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.regionprops" title="Permalink to this definition">¶</a></dt>
<dd><p>Run skimage’s regionprops() function and return the results as PropArray, so
that you can access using flexible slicing. For example, if a tcyx-image is
analyzed with <code class="docutils literal notranslate"><span class="pre">properties=(&quot;X&quot;,</span> <span class="pre">&quot;Y&quot;)</span></code>, then you can get X’s time-course profile
of channel 1 at label 3 by <code class="docutils literal notranslate"><span class="pre">prop[&quot;X&quot;][&quot;p=5;c=1&quot;]</span></code> or <code class="docutils literal notranslate"><span class="pre">prop.X[&quot;p=5;c=1&quot;]</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>properties</strong> (<em>iterable</em><em>, </em><em>optional</em>) – properties to analyze, see <code class="docutils literal notranslate"><span class="pre">skimage.measure.regionprops</span></code>.</p></li>
<li><p><strong>extra_properties</strong> (<em>iterable of callable</em><em>, </em><em>optional</em>) – extra properties to analyze, see <code class="docutils literal notranslate"><span class="pre">skimage.measure.regionprops</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary has keys of properties that are specified by <cite>properties</cite>. Each value
has the array of properties.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataDict of PropArray</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Measure region properties around single molecules.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">coords</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">centroid_sm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">specify</span><span class="p">(</span><span class="n">coords</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">labeltype</span><span class="o">=</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">props</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">regionprops</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.remove_fine_objects">
<span class="sig-name descname"><span class="pre">remove_fine_objects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.remove_fine_objects"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.remove_fine_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove fine objects using diameter_opening.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>length</strong> (<em>float</em><em>, </em><em>default is 10</em>) – Objects longer than this will be removed.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Image with large objects removed.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray.remove_large_objects" title="impy.arrays.imgarray.ImgArray.remove_large_objects"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_large_objects</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.remove_large_objects">
<span class="sig-name descname"><span class="pre">remove_large_objects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.remove_large_objects"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.remove_large_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove large objects using opening. Those objects that were not removed by opening
will be removed in output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em>) – Objects with radius larger than this value will be removed.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Image with large objects removed.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray.remove_fine_objects" title="impy.arrays.imgarray.ImgArray.remove_fine_objects"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_fine_objects</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.remove_skeleton_structure">
<span class="sig-name descname"><span class="pre">remove_skeleton_structure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'tip'</span><span class="p"><span class="pre">]</span></span> <span class="p"><span class="pre">|</span></span> <span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'branch'</span><span class="p"><span class="pre">]</span></span> <span class="p"><span class="pre">|</span></span> <span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'cross'</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'tip'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connectivity</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.remove_skeleton_structure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.remove_skeleton_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove certain structure from skeletonized images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> (<em>str</em><em>, </em><em>default is &quot;tip&quot;</em>) – What type of structure to remove.</p></li>
<li><p><strong>connectivity</strong> (<em>int</em><em>, </em><em>optional</em>) – Connectivity of pixels. See <code class="docutils literal notranslate"><span class="pre">skimage.measure.label</span></code>.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Processed image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.rescale">
<span class="sig-name descname"><span class="pre">rescale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.0625</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'reflect'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'constant'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'nearest'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'mirror'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'wrap'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'reflect'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cval</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.rescale"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.rescale" title="Permalink to this definition">¶</a></dt>
<dd><p>Rescale image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scale</strong> (<em>float</em><em>, </em><em>optional</em>) – scale of the new image.</p></li>
<li><p><strong>order</strong> (<em>int</em><em>, </em><em>default is 1</em>) – <p>Spline interpolation order.
For more details see <a class="reference external" href="https://scikit-image.org/docs/dev/api/skimage.transform.html#skimage.transform.warp">here</a>.</p>
</p></li>
<li><p><strong>mode</strong> (<em>{&quot;reflect&quot;</em><em>, </em><em>&quot;constant&quot;</em><em>, </em><em>&quot;nearest&quot;</em><em>, </em><em>&quot;mirror&quot;</em><em>, </em><em>&quot;wrap&quot;}</em>) – Edge padding mode.</p></li>
<li><p><strong>cval</strong> (<em>float</em><em>, </em><em>default is 0.0</em>) – Constant value for constant padding mode.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Rescaled image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.rescale_intensity">
<span class="sig-name descname"><span class="pre">rescale_intensity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">in_range:</span> <span class="pre">tuple[int</span> <span class="pre">|</span> <span class="pre">str</span></em>, <em class="sig-param"><span class="pre">int</span> <span class="pre">|</span> <span class="pre">str]</span> <span class="pre">=</span> <span class="pre">('0%'</span></em>, <em class="sig-param"><span class="pre">'100%')</span></em>, <em class="sig-param"><span class="pre">dtype=&lt;class</span> <span class="pre">'numpy.uint16'&gt;</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.rescale_intensity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.rescale_intensity" title="Permalink to this definition">¶</a></dt>
<dd><p>Rescale the intensity of the image using skimage.exposure.rescale_intensity().</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>in_range</strong> (<em>two scalar values</em><em>, </em><em>default is</em><em> (</em><em>0%</em><em>, </em><em>100%</em><em>)</em>) – Range of lower/upper limit.</p></li>
<li><p><strong>dtype</strong> (<em>numpy dtype</em><em>, </em><em>default is np.uint16</em>) – Output dtype.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Rescaled image with temporal attribute</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.rof_filter">
<span class="sig-name descname"><span class="pre">rof_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lmd</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.0001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iter</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.rof_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.rof_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Rudin-Osher-Fatemi’s total variation denoising.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lmd</strong> (<em>float</em><em>, </em><em>default is 0.05</em>) – Constant value in total variation.</p></li>
<li><p><strong>tol</strong> (<em>float</em><em>, </em><em>default is 1e-4</em>) – Iteration stops when gain is under this value.</p></li>
<li><p><strong>max_iter</strong> (<em>int</em><em>, </em><em>default is 50</em>) – Maximum number of iterations.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.rolling_ball">
<span class="sig-name descname"><span class="pre">rolling_ball</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefilter</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_bg</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.rolling_ball"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.rolling_ball" title="Permalink to this definition">¶</a></dt>
<dd><p>Subtract Background using rolling-ball algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em>) – <p>Radius of kernel structure. For instance, if input has two spatial dimensions, <code class="docutils literal notranslate"><span class="pre">radius=1</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
<p>and <code class="docutils literal notranslate"><span class="pre">radius=1.8</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
</p></li>
<li><p><strong>prefilter</strong> (<em>str</em><em>, </em><em>{&quot;mean&quot;</em><em>, </em><em>&quot;median&quot;</em><em>, </em><em>&quot;none&quot;}</em>) – If apply 3x3 averaging before creating background.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Background subtracted image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.rotate">
<span class="sig-name descname"><span class="pre">rotate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">degree</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span> <span class="p"><span class="pre">|</span></span> <span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'center'</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'center'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">PaddingMode</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'constant'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cval</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.rotate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>2D rotation of an image around a point. Outside will be padded with zero. For n-D images,
this implementation is faster than <code class="docutils literal notranslate"><span class="pre">scipy.ndimage.rotate</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>degree</strong> (<em>float</em>) – Clockwise degree of rotation. Not radian.</p></li>
<li><p><strong>center</strong> (<em>str</em><em> or </em><em>array-like</em><em>, </em><em>optional</em>) – Rotation center coordinate. By default the center of image will be the rotation center.</p></li>
<li><p><strong>order</strong> (<em>int</em><em>, </em><em>default is 1</em>) – <p>Spline interpolation order.
For more details see <a class="reference external" href="https://scikit-image.org/docs/dev/api/skimage.transform.html#skimage.transform.warp">here</a>.</p>
</p></li>
<li><p><strong>mode</strong> (<em>{&quot;reflect&quot;</em><em>, </em><em>&quot;constant&quot;</em><em>, </em><em>&quot;nearest&quot;</em><em>, </em><em>&quot;mirror&quot;</em><em>, </em><em>&quot;wrap&quot;}</em>) – Edge padding mode.</p></li>
<li><p><strong>cval</strong> (<em>float</em><em>, </em><em>default is 0.0</em>) – Constant value for constant padding mode.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Rotated image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.skeletonize">
<span class="sig-name descname"><span class="pre">skeletonize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.skeletonize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.skeletonize" title="Permalink to this definition">¶</a></dt>
<dd><p>Skeletonize images. Only works for binary images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em>) – Radius of skeleton. This is achieved simply by dilation of skeletonized results.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Skeletonized image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.smooth_mask">
<span class="sig-name descname"><span class="pre">smooth_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dilate_radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_light</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.smooth_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.smooth_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Smoothen binary mask image at its edges. This is useful to make a “soft mask”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma</strong> (<em>float</em><em>, </em><em>default is 2.0</em>) – Standard deviation of Gaussian blur.</p></li>
<li><p><strong>dilate_radius</strong> (<em>float</em><em>, </em><em>default is 2.0</em>) – Radius in pixel that will be used to dilate mask before blurred.</p></li>
<li><p><strong>mask_light</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If true, mask array is considered to mask other image at its True values. Otherwise mask array plays more like
a weight array, that is, False region will be zero.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Smoothened mask image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.split_pixel_unit">
<span class="sig-name descname"><span class="pre">split_pixel_unit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">center</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">(0.5,</span> <span class="pre">0.5)</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle_order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newaxis</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">AxisLike</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'a'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.split_pixel_unit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.split_pixel_unit" title="Permalink to this definition">¶</a></dt>
<dd><p>Split a (2N, 2M)-image into four (N, M)-images for each other pixels.</p>
<p>Generally, image acquisition with a polarization camera will output
<span class="math notranslate nohighlight">\((2N, 2M)\)</span>-image with <span class="math notranslate nohighlight">\(N \times M\)</span> pixel units:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
<p>This function generates images only consist of positions of [0], [1],
[2] or [3]. Strictly, each image is acquired from different position
(the pixel (i, j) in [0]-image and the pixel (i, j) in [1]-image are
acquired from different positions). This function also complements for
this difference by interpolation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>center</strong> (<em>tuple</em><em>, </em><em>default is</em><em> (</em><em>0</em><em>, </em><em>0</em><em>)</em>) – Coordinate that will be considered as the center of the returned
image. Input (a, b) must satisfy 0 &lt; a &lt; 1 and 0 &lt; b &lt; 1. For example,
center=(0, 0) means the most upper left pixel, and center=(0.5, 0.5)
means the middle point of a pixel unit. <cite>[[0, 1], [3, 2]]</cite> becomes
<cite>[[(0, 0), (0, 1)], [(1, 0), (1, 1)]]</cite>.</p>
</dd>
</dl>
<dl>
<dt>order<span class="classifier">int, default is 1</span></dt><dd><p>Spline interpolation order.
For more details see <a class="reference external" href="https://scikit-image.org/docs/dev/api/skimage.transform.html#skimage.transform.warp">here</a>.</p>
</dd>
<dt>angle_order<span class="classifier">list of int, default is [2, 1, 0, 3]</span></dt><dd><p>Specify which pixels correspond to which polarization angles. 0, 1, 2
and 3 corresponds to polarization of 0, 45, 90 and 135 degree
respectively. This list will be directly passed to <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> like
<code class="docutils literal notranslate"><span class="pre">arr[angle_order]</span></code> to sort it. For example, if a pixel unit receives
polarized light like below:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>    <span class="p">[</span> <span class="mi">90</span><span class="p">]</span> <span class="p">[</span> <span class="mi">45</span><span class="p">]</span>    <span class="p">[</span><span class="o">|</span><span class="p">]</span> <span class="p">[</span><span class="o">/</span><span class="p">]</span>
<span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="mi">135</span><span class="p">]</span> <span class="p">[</span>  <span class="mi">0</span><span class="p">]</span> <span class="ow">or</span> <span class="p">[</span>\<span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="p">]</span>
</pre></div>
</div>
</div></blockquote>
<p>then <code class="docutils literal notranslate"><span class="pre">angle_order</span></code> should be [2, 1, 0, 3].</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Axis “a” is added in the first dimension. For example, If input is
“tyx”-axes, then output will be “atyx”-axes.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Extract polarization in 0-, 45-, 90- and 135-degree directions from an
image that is acquired from a polarization camera, and calculate total
intensity of light by averaging.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img_pol</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">split_pixel_unit</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img_total</span> <span class="o">=</span> <span class="n">img_pol</span><span class="o">.</span><span class="n">proj</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.std_filter">
<span class="sig-name descname"><span class="pre">std_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'reflect'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'constant'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'nearest'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'mirror'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'wrap'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'reflect'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cval</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.std_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.std_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard deviation filter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em>) – <p>Radius of kernel structure. For instance, if input has two spatial dimensions, <code class="docutils literal notranslate"><span class="pre">radius=1</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
<p>and <code class="docutils literal notranslate"><span class="pre">radius=1.8</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
</p></li>
<li><p><strong>mode</strong> (<em>{&quot;reflect&quot;</em><em>, </em><em>&quot;constant&quot;</em><em>, </em><em>&quot;nearest&quot;</em><em>, </em><em>&quot;mirror&quot;</em><em>, </em><em>&quot;wrap&quot;}</em>) – Edge padding mode.</p></li>
<li><p><strong>cval</strong> (<em>float</em><em>, </em><em>default is 0.0</em>) – Constant value for constant padding mode.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.stokes">
<span class="sig-name descname"><span class="pre">stokes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">along</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">impy.axes._axis.Axis</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'a'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.stokes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.stokes" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate stocks images from an image stack with polarized images.</p>
<p>Currently, Degree of Linear Polarization (DoLP) and Angle of
Polarization (AoP) will be calculated. Those irregular values
(np.nan, np.inf) will be replaced with 0. Be sure that to calculate
DoPL correctly background subtraction must be applied beforehand because
stokes parameter <code class="docutils literal notranslate"><span class="pre">s0</span></code> is affected by absolute intensities.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>along</strong> (<em>AxisLike</em><em>, </em><em>default is &quot;a&quot;</em>) – To define which axis is polarization angle axis. Along this axis
the angle of polarizer must be in order of 0, 45, 90, 135 degree.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionaly with keys “dolp” and “aop”, which correspond to DoPL and
AoP respectively.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Calculate AoP image from the raw image and display them.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img_pol</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">split_polarization</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpol</span> <span class="o">=</span> <span class="n">img_pol</span><span class="o">.</span><span class="n">stokes</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ip</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">img_pol</span><span class="o">.</span><span class="n">proj</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ip</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">dpol</span><span class="o">.</span><span class="n">aop</span><span class="o">.</span><span class="n">rad2deg</span><span class="p">())</span>
</pre></div>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p><a class="reference external" href="https://mavic.ne.jp/indutrialcamera-polarization-inline/">https://mavic.ne.jp/indutrialcamera-polarization-inline/</a></p></li>
<li><p>Yang, J., Qiu, S., Jin, W., Wang, X., &amp; Xue, F. (2020). Polarization imaging model considering the
non-ideality of polarizers. Applied optics, 59(2), 306-314.</p></li>
<li><p>Feng, B., Guo, R., Zhang, F., Zhao, F., &amp; Dong, Y. (2021). Calculation and hue mapping of AoP in
polarization imaging. May. <a class="reference external" href="https://doi.org/10.1117/12.2523643">https://doi.org/10.1117/12.2523643</a></p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.stretch">
<span class="sig-name descname"><span class="pre">stretch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">nDFloat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span> <span class="p"><span class="pre">|</span></span> <span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'center'</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'center'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">PaddingMode</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'constant'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cval</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.stretch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.stretch" title="Permalink to this definition">¶</a></dt>
<dd><p>2D stretching of an image from a point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scale</strong> (<em>array-like</em>) – Stretch factors.</p></li>
<li><p><strong>center</strong> (<em>str</em><em> or </em><em>array-like</em><em>, </em><em>optional</em>) – Rotation center coordinate. By default the center of image will be the rotation center.</p></li>
<li><p><strong>mode</strong> (<em>{&quot;reflect&quot;</em><em>, </em><em>&quot;constant&quot;</em><em>, </em><em>&quot;nearest&quot;</em><em>, </em><em>&quot;mirror&quot;</em><em>, </em><em>&quot;wrap&quot;}</em>) – Edge padding mode.</p></li>
<li><p><strong>cval</strong> (<em>float</em><em>, </em><em>default is 0.0</em>) – Constant value for constant padding mode.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>order</strong> (<em>int</em><em>, </em><em>default is 1</em>) – <p>Spline interpolation order.
For more details see <a class="reference external" href="https://scikit-image.org/docs/dev/api/skimage.transform.html#skimage.transform.warp">here</a>.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Stretched image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.structure_tensor_eig">
<span class="sig-name descname"><span class="pre">structure_tensor_eig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.structure_tensor_eig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.structure_tensor_eig" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate structure tensor’s eigenvalues and eigenvectors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma</strong> (<em>float</em><em> or </em><em>array of float</em><em>, </em><em>optional</em>) – Standard deviation(s) of Gaussian filter.
If a scalar value is given, same standard deviation will applied to all the spatial dimensions.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Arrays of eigenvalues and eigenvectors. The axis <code class="docutils literal notranslate"><span class="pre">&quot;l&quot;</span></code> denotes the index of
eigenvalues. l=0 means the smallest eigenvalue. <code class="docutils literal notranslate"><span class="pre">&quot;r&quot;</span></code> denotes the index of
spatial dimensions. For 3D image, r=0 means z-element of an eigenvector.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ImgArray and ImgArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.structure_tensor_eigval">
<span class="sig-name descname"><span class="pre">structure_tensor_eigval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.structure_tensor_eigval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.structure_tensor_eigval" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate structure tensor’s eigenvalues and eigenvectors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma</strong> (<em>float</em><em> or </em><em>array of float</em><em>, </em><em>optional</em>) – Standard deviation(s) of Gaussian filter.
If a scalar value is given, same standard deviation will applied to all the spatial dimensions.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Array of eigenvalues. The axis <code class="docutils literal notranslate"><span class="pre">&quot;l&quot;</span></code> denotes the index of eigenvalues.
l=0 means the smallest eigenvalue.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.threshold">
<span class="sig-name descname"><span class="pre">threshold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thr</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span> <span class="p"><span class="pre">|</span></span> <span class="pre">ThreasholdMethod</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'otsu'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">along</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">AxisLike</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.threshold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.threshold" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply thresholding to the image and create a binary image.</p>
<p>The threshold value can be given with a float or a string that indicates what
thresholding method will be used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>thr</strong> (<em>float</em><em> or </em><em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Threshold value, or thresholding algorithm.</p></li>
<li><p><strong>along</strong> (<em>AxisLike</em><em>, </em><em>optional</em>) – Dimensions that will not share the same threshold. For instance, if
<code class="docutils literal notranslate"><span class="pre">along=&quot;c&quot;</span></code> then threshold intensities are determined for every channel.
If <code class="docutils literal notranslate"><span class="pre">thr</span></code> is float, <code class="docutils literal notranslate"><span class="pre">along</span></code> will be ignored.</p></li>
<li><p><strong>**kwargs</strong> – Keyword arguments that will passed to function indicated in ‘method’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Boolian array.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<dl>
<dt>Substitute outliers to 0.</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">thr</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">threshold</span><span class="p">(</span><span class="s2">&quot;99%&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="p">[</span><span class="n">thr</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.tiled_lowpass_filter">
<span class="sig-name descname"><span class="pre">tiled_lowpass_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cutoff</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlap</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">16</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.tiled_lowpass_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.tiled_lowpass_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Tile-by-tile Butterworth low-pass filter. This method is an approximation of the standard
low-pass filter, which would be useful when the image is large.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cutoff</strong> (<em>float</em><em> or </em><em>array-like</em><em>, </em><em>default is 0.2</em>) – Cutoff frequency.</p></li>
<li><p><strong>chunks</strong> (<em>str</em><em> or </em><em>sequence of int</em>) – Chunk size of each lowpass filter task.</p></li>
<li><p><strong>order</strong> (<em>float</em><em>, </em><em>default is 2</em>) – Steepness of cutoff.</p></li>
<li><p><strong>overlap</strong> (<em>int</em><em>, </em><em>default is 16</em>) – Overlapping pixels at the edges of tiles.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.tophat">
<span class="sig-name descname"><span class="pre">tophat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'reflect'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'constant'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'nearest'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'mirror'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'wrap'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'reflect'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cval</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.tophat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.tophat" title="Permalink to this definition">¶</a></dt>
<dd><p>Tophat morphological image processing. This is useful for background subtraction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em>) – <p>Radius of kernel structure. For instance, if input has two spatial dimensions, <code class="docutils literal notranslate"><span class="pre">radius=1</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
<p>and <code class="docutils literal notranslate"><span class="pre">radius=1.8</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
</p></li>
<li><p><strong>mode</strong> (<em>{&quot;reflect&quot;</em><em>, </em><em>&quot;constant&quot;</em><em>, </em><em>&quot;nearest&quot;</em><em>, </em><em>&quot;mirror&quot;</em><em>, </em><em>&quot;wrap&quot;}</em>) – Edge padding mode.</p></li>
<li><p><strong>cval</strong> (<em>float</em><em>, </em><em>default is 0.0</em>) – Constant value for constant padding mode.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.track_drift">
<span class="sig-name descname"><span class="pre">track_drift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">along</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">AxisLike</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_drift</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upsample_factor</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">MarkerFrame</span></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.track_drift"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.track_drift" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate yx-directional drift using the method of <cite>skimage.registration.phase_cross_correlation</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>along</strong> (<em>AxisLike</em><em>, </em><em>optional</em>) – Along which axis drift will be calculated.</p></li>
<li><p><strong>show_drift</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, plot the result.</p></li>
<li><p><strong>upsample_factor</strong> (<em>int</em><em>, </em><em>default is 10</em>) – Up-sampling factor when calculating phase cross correlation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DataFrame structure with x,y columns</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="impy.frame.html#impy.frame.frames.MarkerFrame" title="impy.frame.frames.MarkerFrame">MarkerFrame</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.track_template">
<span class="sig-name descname"><span class="pre">track_template</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">np.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">along</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">AxisLike</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'t'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">MarkerFrame</span></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.track_template"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.track_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Tracking using template matching. For every time frame, matched region is interpreted as a
new template and is used for the next template. To avoid slight shifts accumulating to the
template image, new template image will be fitteg to the old one by phase cross correlation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>template</strong> (<em>np.ndarray</em>) – Template image. Must be 2 or 3 dimensional.</p></li>
<li><p><strong>bg</strong> (<em>float</em><em>, </em><em>optional</em>) – Background intensity. If not given, it will calculated as the minimum value of
the original image.</p></li>
<li><p><strong>along</strong> (<em>str</em><em>, </em><em>default is &quot;t&quot;</em>) – Which axis will be the time axis.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Centers of matched templates.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="impy.frame.html#impy.frame.frames.MarkerFrame" title="impy.frame.frames.MarkerFrame">MarkerFrame</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.unmix">
<span class="sig-name descname"><span class="pre">unmix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matrix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">along</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'c'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.unmix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.unmix" title="Permalink to this definition">¶</a></dt>
<dd><p>Unmix fluorescence leakage between channels in a linear way. For example, a blue/green image,
fluorescent leakage can be written as following equation:</p>
<blockquote>
<div><p><span class="math notranslate nohighlight">\(\left\{\begin{array}{ll} B_{obs} = B_{real} + a \cdot G_{real} &amp; \\G_{obs} = b \cdot B_{real} + G_{real} &amp; \end{array} \right.\)</span></p>
</div></blockquote>
<p>where “obs” means observed intensities, “real” means the real intensity. In this linear case,
leakage matrix:</p>
<blockquote>
<div><p><span class="math notranslate nohighlight">\(M = \begin{bmatrix} 1 &amp; a \\b &amp; 1 \end{bmatrix} \\\)</span></p>
<p><span class="math notranslate nohighlight">\(V_{obs} = M \cdot V_{real}\)</span></p>
</div></blockquote>
<p>must be predefined. If M is given, then real intensities can be restored by:</p>
<blockquote>
<div><p><span class="math notranslate nohighlight">\(V_{real} = M^{-1} \cdot V_{obs}\)</span></p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matrix</strong> (<em>array-like</em>) – Leakage matrix. The (i, j) component of the matrix is the leakage from i-th channel to
j-th channel.</p></li>
<li><p><strong>bg</strong> (<em>array-like</em><em>, </em><em>optional</em>) – Vector of background intensities for each channel. If not given, it is assumed to be the
minimum value of each channel.</p></li>
<li><p><strong>along</strong> (<em>str</em><em>, </em><em>default is &quot;c&quot;</em>) – The axis of channel.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Unmixed image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<dl>
<dt>Complement the channel-0 to channel-1 leakage.</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mtx</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bg</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1500</span><span class="p">,</span> <span class="mi">1200</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unmixed_img</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">unmix</span><span class="p">(</span><span class="n">mtx</span><span class="p">,</span> <span class="n">bg</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.voronoi">
<span class="sig-name descname"><span class="pre">voronoi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coords</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Coords</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inf</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">nDInt</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.voronoi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.voronoi" title="Permalink to this definition">¶</a></dt>
<dd><p>Voronoi segmentation of an image.</p>
<p>Image region labeled with $i$ means that all the points in the region are
closer to the $i$-th point than any other points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coords</strong> (<a class="reference internal" href="impy.frame.html#impy.frame.frames.MarkerFrame" title="impy.frame.frames.MarkerFrame"><em>MarkerFrame</em></a><em> or </em><em>(</em><em>N</em><em>, </em><em>2</em><em>) </em><em>array-like</em>) – Coordinates of points.</p></li>
<li><p><strong>inf</strong> (<em>int</em><em>, </em><em>array of int</em><em>, </em><em>optional</em>) – Distance to infinity points. If not provided, infinity points are
placed at 100 times further positions relative to the image shape.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Segmentation labels of image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.label.Label" title="impy.arrays.label.Label">Label</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.watershed">
<span class="sig-name descname"><span class="pre">watershed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coords</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">MarkerFrame</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connectivity</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'self'</span><span class="p"><span class="pre">]</span></span> <span class="p"><span class="pre">|</span></span> <span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'distance'</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'distance'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_distance</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Label</span></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.watershed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.watershed" title="Permalink to this definition">¶</a></dt>
<dd><p>Label segmentation using watershed algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coords</strong> (<a class="reference internal" href="impy.frame.html#impy.frame.frames.MarkerFrame" title="impy.frame.frames.MarkerFrame"><em>MarkerFrame</em></a><em>, </em><em>optional</em>) – Returned by such as <cite>peak_local_max()</cite>. Array of coordinates of peaks.</p></li>
<li><p><strong>{connectivity}</strong> – </p></li>
<li><p><strong>input</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>What image will be the input of watershed algorithm.</p>
<ul>
<li><p>”self” … self is used.</p></li>
<li><p>”distance” … distance map of self.labels is used.</p></li>
</ul>
</p></li>
<li><p><strong>{dims}</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Updated labels.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.label.Label" title="impy.arrays.label.Label">Label</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.wavelet_denoising">
<span class="sig-name descname"><span class="pre">wavelet_denoising</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">noise_sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wavelet</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'db1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'soft'</span><span class="p"><span class="pre">]</span></span> <span class="p"><span class="pre">|</span></span> <span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'hard'</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'soft'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wavelet_levels</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'BayesShrink'</span><span class="p"><span class="pre">]</span></span> <span class="p"><span class="pre">|</span></span> <span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'VisuShrink'</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'BayesShrink'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_shifts</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span> <span class="p"><span class="pre">|</span></span> <span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift_steps</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span> <span class="p"><span class="pre">|</span></span> <span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.wavelet_denoising"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.wavelet_denoising" title="Permalink to this definition">¶</a></dt>
<dd><p>Wavelet denoising. Because it is not shift invariant, <code class="docutils literal notranslate"><span class="pre">cycle_spin</span></code> is called inside the
function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>noise_sigma</strong> (<em>float</em><em>, </em><em>optional</em>) – Standard deviation of noise, if known.</p></li>
<li><p><strong>wavelet</strong> (<em>str</em><em>, </em><em>default is &quot;db1&quot;</em>) – Any options of <cite>pywt.wavelist</cite>.</p></li>
<li><p><strong>mode</strong> (<em>{&quot;soft&quot;</em><em>, </em><em>&quot;hard&quot;}</em><em>, </em><em>default is &quot;soft&quot;</em>) – Type of denoising.</p></li>
<li><p><strong>wavelet_levels</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of wavelet decomposition levels to use.</p></li>
<li><p><strong>method</strong> (<em>{&quot;BayesShrink&quot;</em><em>, </em><em>&quot;VisuShrink&quot;}</em><em>, </em><em>default is &quot;BayesShrink&quot;</em>) – Thresholding method to be used</p></li>
<li><p><strong>max_shifts</strong> (<em>int</em><em> or </em><em>tuple</em><em>, </em><em>default is 0</em>) – Shifts in range(0, max_shifts+1) will be used.</p></li>
<li><p><strong>shift_steps</strong> (<em>int</em><em> or </em><em>tuple</em><em>, </em><em>default is 1</em>) – Step size of shifts.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Denoised image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.imgarray.ImgArray.wiener">
<span class="sig-name descname"><span class="pre">wiener</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">psf</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lmd</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#ImgArray.wiener"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.ImgArray.wiener" title="Permalink to this definition">¶</a></dt>
<dd><p>Classical wiener deconvolution. This algorithm has the serious ringing problem
if parameters are set to wrong values.</p>
<p><span class="math notranslate nohighlight">\(F[Y_{res}] = \frac{F[Y_{obs}] \cdot \bar{H}}{|H|^2 + \lambda}\)</span></p>
<p><span class="math notranslate nohighlight">\(Y_{obs}\)</span>: observed image;
<span class="math notranslate nohighlight">\(Y_{res}\)</span>: restored image;
<span class="math notranslate nohighlight">\(H\)</span> : FFT of point spread function (PSF);</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>psf</strong> (<em>np.ndarray</em>) – Point spread function.</p></li>
<li><p><strong>lmd</strong> (<em>float</em><em>, </em><em>default is 0.1</em>) – Constant value used in the deconvolution. See Formulation below.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Deconvolved image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray">ImgArray</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#impy.arrays.imgarray.ImgArray.lucy" title="impy.arrays.imgarray.ImgArray.lucy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lucy</span></code></a>, <a class="reference internal" href="#impy.arrays.imgarray.ImgArray.lucy_tv" title="impy.arrays.imgarray.ImgArray.lucy_tv"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lucy_tv</span></code></a></p>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="impy.arrays.imgarray.check_filter_func">
<span class="sig-prename descclassname"><span class="pre">impy.arrays.imgarray.</span></span><span class="sig-name descname"><span class="pre">check_filter_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#check_filter_func"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.check_filter_func" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="impy.arrays.imgarray.wave_num">
<span class="sig-prename descclassname"><span class="pre">impy.arrays.imgarray.</span></span><span class="sig-name descname"><span class="pre">wave_num</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sl</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">slice</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uf</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="reference internal" href="../_modules/impy/arrays/imgarray.html#wave_num"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.imgarray.wave_num" title="Permalink to this definition">¶</a></dt>
<dd><p>A function that makes wave number vertical vector. Returned vector will
be [k/s, (k + 1/uf)/s, (k + 2/uf)/s, …] (where k = sl.start)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sl</strong> (<em>slice</em>) – Slice that specify which part of the image will be transformed.</p></li>
<li><p><strong>s</strong> (<em>int</em>) – Size along certain dimension.</p></li>
<li><p><strong>uf</strong> (<em>int</em>) – Up-sampling factor of certain dimension.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-impy.arrays.label">
<span id="impy-arrays-label-module"></span><h2>impy.arrays.label module<a class="headerlink" href="#module-impy.arrays.label" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="impy.arrays.label.Label">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">impy.arrays.label.</span></span><span class="sig-name descname"><span class="pre">Label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/label.html#Label"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.label.Label" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="impy.arrays.bases.html#impy.arrays.bases.metaarray.MetaArray" title="impy.arrays.bases.metaarray.MetaArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">impy.arrays.bases.metaarray.MetaArray</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.label.Label.add_label">
<span class="sig-name descname"><span class="pre">add_label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label_image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/label.html#Label.add_label"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.label.Label.add_label" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.label.Label.as_larger_type">
<span class="sig-name descname"><span class="pre">as_larger_type</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/label.html#Label.as_larger_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.label.Label.as_larger_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.label.Label.delete_label">
<span class="sig-name descname"><span class="pre">delete_label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label_ids</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/label.html#Label.delete_label"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.label.Label.delete_label" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.label.Label.expand_labels">
<span class="sig-name descname"><span class="pre">expand_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">distance</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.label.Label" title="impy.arrays.label.Label"><span class="pre">impy.arrays.label.Label</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/label.html#Label.expand_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.label.Label.expand_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Expand areas of labels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>distance</strong> (<em>int</em><em>, </em><em>optional</em>) – The distance to expand, by default 1</p></li>
<li><p><strong>{dims}</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Same array but labels are updated.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.label.Label" title="impy.arrays.label.Label">Label</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.label.Label.imshow">
<span class="sig-name descname"><span class="pre">imshow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/label.html#Label.imshow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.label.Label.imshow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.label.Label.increment">
<span class="sig-name descname"><span class="pre">increment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.label.Label" title="impy.arrays.label.Label"><span class="pre">impy.arrays.label.Label</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/label.html#Label.increment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.label.Label.increment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.label.Label.increment_iter">
<span class="sig-name descname"><span class="pre">increment_iter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.label.Label" title="impy.arrays.label.Label"><span class="pre">impy.arrays.label.Label</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/label.html#Label.increment_iter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.label.Label.increment_iter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.label.Label.opening">
<span class="sig-name descname"><span class="pre">opening</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.label.Label" title="impy.arrays.label.Label"><span class="pre">impy.arrays.label.Label</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/label.html#Label.opening"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.label.Label.opening" title="Permalink to this definition">¶</a></dt>
<dd><p>Morphological opening.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em>) – <p>Radius of kernel structure. For instance, if input has two spatial dimensions, <code class="docutils literal notranslate"><span class="pre">radius=1</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
<p>and <code class="docutils literal notranslate"><span class="pre">radius=1.8</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Opened labels</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.label.Label" title="impy.arrays.label.Label">Label</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.label.Label.optimize">
<span class="sig-name descname"><span class="pre">optimize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.label.Label" title="impy.arrays.label.Label"><span class="pre">impy.arrays.label.Label</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/label.html#Label.optimize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.label.Label.optimize" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimize labeling.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.label.Label.proj">
<span class="sig-name descname"><span class="pre">proj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">forbid_overlap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.label.Label" title="impy.arrays.label.Label"><span class="pre">impy.arrays.label.Label</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/label.html#Label.proj"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.label.Label.proj" title="Permalink to this definition">¶</a></dt>
<dd><p>Label projection. This function is useful when zyx-labels are drawn but you want to reduce the
dimension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axis</strong> (<em>str</em><em>, </em><em>optional</em>) – Along which axis projection will be calculated. If None, most plausible one will be chosen.</p></li>
<li><p><strong>forbid_overlap</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True and there were any label overlap, this function will raise ValueError.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Projected labels.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.label.Label" title="impy.arrays.label.Label">Label</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.label.Label.relabel">
<span class="sig-name descname"><span class="pre">relabel</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.label.Label" title="impy.arrays.label.Label"><span class="pre">impy.arrays.label.Label</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/label.html#Label.relabel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.label.Label.relabel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="impy.arrays.label.best_dtype">
<span class="sig-prename descclassname"><span class="pre">impy.arrays.label.</span></span><span class="sig-name descname"><span class="pre">best_dtype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/label.html#best_dtype"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.label.best_dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-impy.arrays.labeledarray">
<span id="impy-arrays-labeledarray-module"></span><h2>impy.arrays.labeledarray module<a class="headerlink" href="#module-impy.arrays.labeledarray" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.ArrayCovariates">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">impy.arrays.labeledarray.</span></span><span class="sig-name descname"><span class="pre">ArrayCovariates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="#impy.arrays.labeledarray.SupportAxesSlicing" title="impy.arrays.labeledarray.SupportAxesSlicing"><span class="pre">impy.arrays.labeledarray.SupportAxesSlicing</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="impy.arrays.bases.html#impy.arrays.bases.metaarray.MetaArray" title="impy.arrays.bases.metaarray.MetaArray"><span class="pre">impy.arrays.bases.metaarray.MetaArray</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#ArrayCovariates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.ArrayCovariates" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">MutableMapping</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <a class="reference internal" href="#impy.arrays.labeledarray.SupportAxesSlicing" title="impy.arrays.labeledarray.SupportAxesSlicing"><code class="xref py py-class docutils literal notranslate"><span class="pre">impy.arrays.labeledarray.SupportAxesSlicing</span></code></a>]</p>
<p>A dictionary of covariate objects for a MetaArray.</p>
<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.ArrayCovariates.construct_by_copying">
<span class="sig-name descname"><span class="pre">construct_by_copying</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">MetaArray</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#ArrayCovariates.construct_by_copying"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.ArrayCovariates.construct_by_copying" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.ArrayCovariates.construct_by_slicing">
<span class="sig-name descname"><span class="pre">construct_by_slicing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">next_parent</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">MetaArray</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#ArrayCovariates.construct_by_slicing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.ArrayCovariates.construct_by_slicing" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.ArrayCovariates.parent">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">parent</span></span><a class="headerlink" href="#impy.arrays.labeledarray.ArrayCovariates.parent" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the parent MetaArray object</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">impy.arrays.labeledarray.</span></span><span class="sig-name descname"><span class="pre">LabeledArray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">AxesLike</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span> <span class="p"><span class="pre">|</span></span> <span class="pre">Path</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">DTypeLike</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="impy.arrays.bases.html#impy.arrays.bases.metaarray.MetaArray" title="impy.arrays.bases.metaarray.MetaArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">impy.arrays.bases.metaarray.MetaArray</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.append_label">
<span class="sig-name descname"><span class="pre">append_label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label_image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.label.Label" title="impy.arrays.label.Label"><span class="pre">impy.arrays.label.Label</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.append_label"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.append_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Append new labels from an array. This function works for boolean or signed int arrays.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label_image</strong> (<em>np.ndarray</em>) – Labeled image.</p></li>
<li><p><strong>new</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, existing labels will be removed anyway.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>New labels.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.label.Label" title="impy.arrays.label.Label">Label</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Make label from different channels.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">thr0</span> <span class="o">=</span> <span class="n">img</span><span class="p">[</span><span class="s2">&quot;c=0&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">threshold</span><span class="p">(</span><span class="s2">&quot;90%&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">thr0</span><span class="o">.</span><span class="n">label</span><span class="p">()</span> <span class="c1"># binary to label</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">thr1</span> <span class="o">=</span> <span class="n">img</span><span class="p">[</span><span class="s2">&quot;c=1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">threshold</span><span class="p">(</span><span class="s2">&quot;90%&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">thr1</span><span class="o">.</span><span class="n">label</span><span class="p">()</span> <span class="c1"># binary to label</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">append_label</span><span class="p">(</span><span class="n">thr0</span><span class="o">.</span><span class="n">labels</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">append_label</span><span class="p">(</span><span class="n">thr1</span><span class="o">.</span><span class="n">labels</span><span class="p">)</span>
</pre></div>
</div>
<p>If <cite>thr0</cite> has 100 labels and <cite>thr1</cite> has 150 labels then <cite>img</cite> will have <span class="math notranslate nohighlight">\(100+150=250\)</span> labels.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.as_float">
<span class="sig-name descname"><span class="pre">as_float</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.as_float"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.as_float" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.as_img_type">
<span class="sig-name descname"><span class="pre">as_img_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">dtype=&lt;class</span> <span class="pre">'numpy.uint16'&gt;</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.as_img_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.as_img_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.as_uint16">
<span class="sig-name descname"><span class="pre">as_uint16</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.as_uint16"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.as_uint16" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.as_uint8">
<span class="sig-name descname"><span class="pre">as_uint8</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.as_uint8"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.as_uint8" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.axes">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">axes</span></span><em class="property"><span class="pre">:</span> <span class="pre">impy.axes._axes.Axes</span></em><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.axes" title="Permalink to this definition">¶</a></dt>
<dd><p>Axes of the array.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.covariates">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">covariates</span></span><em class="property"><span class="pre">:</span> <a class="reference internal" href="#impy.arrays.labeledarray.ArrayCovariates" title="impy.arrays.labeledarray.ArrayCovariates"><span class="pre">impy.arrays.labeledarray.ArrayCovariates</span></a></em><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.covariates" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all the covariates.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.crop_center">
<span class="sig-name descname"><span class="pre">crop_center</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">nDFloat</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.crop_center"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.crop_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Crop out the center of an image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scale</strong> (<em>float</em><em> or </em><em>array-like</em><em>, </em><em>default is 0.5</em>) – Scale of the cropped image. If an array is given, each axis will be cropped in different scales,
using each value respectively.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>CroppedImage</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Self</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<ol class="arabic">
<li><p>Create a <span class="math notranslate nohighlight">\(512\times512\)</span> image from a <span class="math notranslate nohighlight">\(1024\times1024\)</span> image.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img_cropped</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">crop_center</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Create a <span class="math notranslate nohighlight">\(21\times256\times256\)</span> image from a <span class="math notranslate nohighlight">\(63\times1024\times1024\)</span> image.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img_cropped</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">crop_center</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
</li>
</ol>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.crop_kernel">
<span class="sig-name descname"><span class="pre">crop_kernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">nDInt</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.crop_kernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.crop_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a kernel from an image by cropping out the center region.
This function is useful especially in <cite>ImgArray.defocus()</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>radius</strong> (<em>int</em><em> or </em><em>array-like of int</em><em>, </em><em>default is 2</em>) – Radius of the kernel.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Kernel</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.labeledarray.LabeledArray" title="impy.arrays.labeledarray.LabeledArray">LabeledArray</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Make a <span class="math notranslate nohighlight">\(4\times4\times4\)</span> kernel from a point spread function image (suppose the
image shapes are all even numbers).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">psf</span> <span class="o">=</span> <span class="n">ip</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;.../PSF.tif&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">psfker</span> <span class="o">=</span> <span class="n">psf</span><span class="o">.</span><span class="n">crop_kernel</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">psfer</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(4, 4, 4)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.extract">
<span class="sig-name descname"><span class="pre">extract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cval</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataList</span><span class="p"><span class="pre">[</span></span><span class="pre">Self</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.extract"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.extract" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract certain regions of the image and substitute others to <cite>cval</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label_ids</strong> (<em>int</em><em> or </em><em>iterable of int</em><em>, </em><em>by default all the label IDs.</em>) – Which label regions are extracted.</p></li>
<li><p><strong>filt</strong> (<em>callable</em><em>, </em><em>optional</em>) – If given, only regions <cite>X</cite> that satisfy filt(self, X) will extracted.</p></li>
<li><p><strong>cval</strong> (<em>float</em><em>, </em><em>default is 0.</em>) – Constant value to fill regions outside the extracted labeled regions.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Extracted image(s)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataList of LabeledArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.for_each_channel">
<span class="sig-name descname"><span class="pre">for_each_channel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">along</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'c'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.for_each_channel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.for_each_channel" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply same function with different parameters for each channel. This function will be useful
when the parameters are dependent on channels, like wave length.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>str</em>) – Function name to apply over channel axis.</p></li>
<li><p><strong>along</strong> (<em>str</em><em>, </em><em>default is &quot;c&quot;</em>) – Along which axis function will be applied to.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>output image stack</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.labeledarray.LabeledArray" title="impy.arrays.labeledarray.LabeledArray">LabeledArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.for_params">
<span class="sig-name descname"><span class="pre">for_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span> <span class="p"><span class="pre">|</span></span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Iterable</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataList</span></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.for_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.for_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply same function with different parameters with same input. This function will be useful
when you want to try different conditions to the same image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>callable</em><em> or </em><em>str</em>) – Function to apply repetitively. If str, then member method will be called.</p></li>
<li><p><strong>var</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>Iterable</em><em>]</em><em>, </em><em>optional</em>) – Name of variable and the values to try. If you want to try sigma=1,2,3 then you should
give <cite>var={“sigma”: [1, 2, 3]}</cite>.</p></li>
<li><p><strong>kwargs</strong> – Fixed paramters that will be passed to <cite>func</cite>. If <cite>var</cite> is not given and only one parameter
is provided in <cite>kwargs</cite>, then kwargs will be <cite>var</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of outputs.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="impy.html#impy.collections.DataList" title="impy.collections.DataList">DataList</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<ol class="arabic">
<li><p>Try LoG filter with different Gaussian kernel size and visualize all of them in napari.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">for_params</span><span class="p">(</span><span class="s2">&quot;log_filter&quot;</span><span class="p">,</span> <span class="n">var</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;sigma&quot;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]})</span>
<span class="go"># or</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">for_params</span><span class="p">(</span><span class="s2">&quot;log_filter&quot;</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="go"># then</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ip</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ol>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.hist">
<span class="sig-name descname"><span class="pre">hist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">contrast</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.hist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.hist" title="Permalink to this definition">¶</a></dt>
<dd><p>Show intensity profile.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.imsave">
<span class="sig-name descname"><span class="pre">imsave</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">save_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span> <span class="p"><span class="pre">|</span></span> <span class="pre">Path</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">DTypeLike</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.imsave"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.imsave" title="Permalink to this definition">¶</a></dt>
<dd><p>Save image at the same directory as the original image by default.</p>
<p>For tif file format, if the image contains wrong axes for ImageJ (= except for tzcyx),
then it will converted automatically if possible. For mrc file format, only zyx and yx is
allowed. zyx-scale is also saved.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>save_path</strong> (<em>str</em>) – File name.</p></li>
<li><p><strong>dtype</strong> (<em>dtype-like</em><em>, </em><em>optional</em>) – In what data type img will be saved.</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>default is True</em>) – Whether to overwrite the file if it already exists.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.imshow">
<span class="sig-name descname"><span class="pre">imshow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plugin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'matplotlib'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.imshow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.imshow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.label">
<span class="sig-name descname"><span class="pre">label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref_image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">np.ndarray</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filt</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connectivity</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Label</span></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.label"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.label" title="Permalink to this definition">¶</a></dt>
<dd><p>Label image using skimage’s label().</p>
<p>Label image using <cite>ref_image</cite> as reference image, or image itself. If
<code class="docutils literal notranslate"><span class="pre">filt</span></code> is given, image will be labeled only if certain condition
dictated in <cite>filt</cite> is satisfied. <cite>regionprops_table</cite> is called inside
every time image is labeled.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">filt</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">lbl</span><span class="p">,</span> <span class="n">area</span><span class="p">,</span> <span class="n">major_axis_length</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">area</span><span class="o">&gt;</span><span class="mi">10</span> <span class="ow">and</span> <span class="n">major_axis_length</span><span class="o">&gt;</span><span class="mi">5</span>
</pre></div>
</div>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ref_image</strong> (<em>array</em><em>, </em><em>optional</em>) – Image to make label, by default self is used.</p></li>
<li><p><strong>filt</strong> (<em>callable</em><em>, </em><em>positional argument but not optional</em>) – Filter function. The first argument is intensity image sliced from
<cite>self</cite>, the second is label image sliced from labeled <cite>ref_image</cite>,
and the rest arguments is properties that will be calculated using
<cite>regionprops</cite> function. The property arguments <strong>must be named
exactly same</strong> as the properties in <cite>regionprops</cite>. Number of
arguments can be two.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>connectivity</strong> (<em>int</em><em>, </em><em>optional</em>) – Connectivity of pixels. See <code class="docutils literal notranslate"><span class="pre">skimage.measure.label</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Newly created label.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.label.Label" title="impy.arrays.label.Label">Label</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<ol class="arabic">
<li><dl>
<dt>Label the image with threshold and visualize with napari.</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">thr</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">threshold</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="n">thr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ip</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>Label regions if only intensity is high.</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">high_intensity</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">lbl</span><span class="p">,</span> <span class="nb">slice</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">img</span><span class="p">[</span><span class="nb">slice</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">10000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="n">lbl</span><span class="p">,</span> <span class="n">filt</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>Label regions if no hole exists.</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">no_hole</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">lbl</span><span class="p">,</span> <span class="n">euler_number</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">euler_number</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="n">lbl</span><span class="p">,</span> <span class="n">filt</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>Label regions if centroids are inside themselves.</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">no_hole</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">lbl</span><span class="p">,</span> <span class="n">centroid</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">yc</span><span class="p">,</span> <span class="n">xc</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">centroid</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">lbl</span><span class="p">[</span><span class="n">yc</span><span class="p">,</span> <span class="n">xc</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="n">lbl</span><span class="p">,</span> <span class="n">filt</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</li>
</ol>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.label_if">
<span class="sig-name descname"><span class="pre">label_if</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref_image</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">np.ndarray</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filt</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connectivity</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Label</span></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.label_if"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.label_if" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.labels">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">labels</span></span><em class="property"><span class="pre">:</span> <span class="pre">Label</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></em><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.labels" title="Permalink to this definition">¶</a></dt>
<dd><p>The label of the image.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.map_coordinates">
<span class="sig-name descname"><span class="pre">map_coordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coordinates</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">PaddingMode</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'constant'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cval</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefilter</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.map_coordinates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.map_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Coordinate mapping in the image. See <code class="docutils literal notranslate"><span class="pre">scipy.ndimage.map_coordinates</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coordinates</strong> (<em>ArrayLike</em>) – Interpolation coordinates. Must be (D, N) or (D, X_1, …, X_D) shape.</p></li>
<li><p><strong>mode</strong> (<em>{&quot;reflect&quot;</em><em>, </em><em>&quot;constant&quot;</em><em>, </em><em>&quot;nearest&quot;</em><em>, </em><em>&quot;mirror&quot;</em><em>, </em><em>&quot;wrap&quot;}</em>) – Edge padding mode.</p></li>
<li><p><strong>cval</strong> (<em>float</em><em>, </em><em>default is 0.0</em>) – Constant value for constant padding mode.</p></li>
<li><p><strong>order</strong> (<em>int</em><em>, </em><em>default is 1</em>) – <p>Spline interpolation order.
For more details see <a class="reference external" href="https://scikit-image.org/docs/dev/api/skimage.transform.html#skimage.transform.warp">here</a>.</p>
</p></li>
<li><p><strong>prefilter</strong> (<em>bool</em><em>, </em><em>optional</em>) – Spline prefilter applied to the array. By default set to True if <code class="docutils literal notranslate"><span class="pre">order</span></code> is larger
than 1.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Transformed image. Axes will be correctly filled if possible.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.labeledarray.LabeledArray" title="impy.arrays.labeledarray.LabeledArray">LabeledArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.pathprops">
<span class="sig-name descname"><span class="pre">pathprops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paths</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">PathFrame</span> <span class="p"><span class="pre">|</span></span> <span class="pre">ArrayLike</span> <span class="p"><span class="pre">|</span></span> <span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">ArrayLike</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">properties</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span> <span class="p"><span class="pre">|</span></span> <span class="pre">Callable</span> <span class="p"><span class="pre">|</span></span> <span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span> <span class="p"><span class="pre">|</span></span> <span class="pre">Callable</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataDict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">PropArray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.pathprops"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.pathprops" title="Permalink to this definition">¶</a></dt>
<dd><p>Measure line property using func(line_scan) for each functions in properties.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>paths</strong> (<a class="reference internal" href="impy.frame.html#impy.frame.frames.PathFrame" title="impy.frame.frames.PathFrame"><em>PathFrame</em></a>) – Paths to measure properties.</p></li>
<li><p><strong>properties</strong> (<em>str</em><em> or </em><em>callable</em><em>, or </em><em>their iterable</em>) – Properties to be analyzed.</p></li>
<li><p><strong>order</strong> (<em>int</em><em>, </em><em>default is 1</em>) – <p>Spline interpolation order.
For more details see <a class="reference external" href="https://scikit-image.org/docs/dev/api/skimage.transform.html#skimage.transform.warp">here</a>.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Line properties. Keys are property names and values are the corresponding PropArrays.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataDict of PropArray</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<ol class="arabic">
<li><dl>
<dt>Time-course measurement of intensities on a path.</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">pathprops</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">102</span><span class="p">,</span> <span class="mi">301</span><span class="p">],</span> <span class="p">[</span><span class="mi">200</span><span class="p">,</span> <span class="mi">400</span><span class="p">]])</span>
</pre></div>
</div>
</dd>
</dl>
</li>
</ol>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.pointprops">
<span class="sig-name descname"><span class="pre">pointprops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coords</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Coords</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">squeeze</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">PropArray</span></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.pointprops"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.pointprops" title="Permalink to this definition">¶</a></dt>
<dd><p>Measure interpolated intensity at points with float coordinates.</p>
<p>This method is essentially identical to <a class="reference internal" href="#impy.arrays.labeledarray.LabeledArray.map_coordinates" title="impy.arrays.labeledarray.LabeledArray.map_coordinates"><code class="xref py py-func docutils literal notranslate"><span class="pre">map_coordinates()</span></code></a> but is
more straightforward for measuring intensities at points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coords</strong> (<em>DataFrame</em><em> or </em><em>array-like</em>) – Coordinates of point to be measured.</p></li>
<li><p><strong>order</strong> (<em>int</em><em>, </em><em>default is 1</em>) – <p>Spline interpolation order.
For more details see <a class="reference external" href="https://scikit-image.org/docs/dev/api/skimage.transform.html#skimage.transform.warp">here</a>.</p>
</p></li>
<li><p><strong>squeeze</strong> (<em>bool</em><em>, </em><em>default is True</em>) – If True and only one point is measured, the redundant dimension ID_AXIS will be deleted.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Intensities at points.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.specials.PropArray" title="impy.arrays.specials.PropArray">PropArray</a> or float</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<dl>
<dt>Calculate centroids and measure intensities.</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">coords</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">proj</span><span class="p">(</span><span class="s2">&quot;t&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">centroid_sm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">pointprops</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.proj_labels">
<span class="sig-name descname"><span class="pre">proj_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">forbid_overlap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.label.Label" title="impy.arrays.label.Label"><span class="pre">impy.arrays.label.Label</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.proj_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.proj_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Label projection. This function is useful when zyx-labels are drawn but you want to reduce the
dimension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axis</strong> (<em>str</em><em>, </em><em>optional</em>) – Along which axis projection will be calculated. If None, most plausible one will be chosen.</p></li>
<li><p><strong>forbid_overlap</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True and there were any label overlap, this function will raise ValueError.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Projected labels.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.label.Label" title="impy.arrays.label.Label">Label</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.range">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">range</span></span><em class="property"><span class="pre">:</span> <span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.range" title="Permalink to this definition">¶</a></dt>
<dd><p>Return min/max range of the array.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.remove_edges">
<span class="sig-name descname"><span class="pre">remove_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pixel</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">nDInt</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.remove_edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.remove_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove pixels from the edges.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pixel</strong> (<em>int</em><em> or </em><em>array-like</em><em>, </em><em>default is 1</em>) – Number of pixels to remove. If an array is given, each axis will be cropped with different pixels,
using each value respectively.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Cropped image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.labeledarray.LabeledArray" title="impy.arrays.labeledarray.LabeledArray">LabeledArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.reslice">
<span class="sig-name descname"><span class="pre">reslice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">ArrayLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefilter</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">PropArray</span></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.reslice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.reslice" title="Permalink to this definition">¶</a></dt>
<dd><p>Measure line profile (kymograph) iteratively for every slice of image. This
function is almost same as <cite>skimage.measure.profile_line</cite>, but can reslice
3D-images. The argument <cite>linewidth</cite> is not implemented here because it is
useless.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>array-like</em>) – Path or source coordinate. If the former, it must be like:
<cite>a = [[y0, x0], [y1, x1], …, [yn, xn]]</cite></p></li>
<li><p><strong>b</strong> (<em>array-like</em><em>, </em><em>optional</em>) – Destination coordinate. If specified, <cite>a</cite> must be the source coordinate.</p></li>
<li><p><strong>order</strong> (<em>int</em><em>, </em><em>default is 1</em>) – <p>Spline interpolation order.
For more details see <a class="reference external" href="https://scikit-image.org/docs/dev/api/skimage.transform.html#skimage.transform.warp">here</a>.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Line scans.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.specials.PropArray" title="impy.arrays.specials.PropArray">PropArray</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<ol class="arabic">
<li><p>Rescile along a line and fit to a model function for every time frame.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">scan</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">reslice</span><span class="p">([</span><span class="mi">18</span><span class="p">,</span> <span class="mi">32</span><span class="p">],</span> <span class="p">[</span><span class="mi">53</span><span class="p">,</span> <span class="mi">48</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">scan</span><span class="o">.</span><span class="n">curve_fit</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">init</span><span class="p">,</span> <span class="n">return_fit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">scan</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">out</span><span class="o">.</span><span class="n">fit</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</li>
<li><p>Rescile along a path.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">scan</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">reslice</span><span class="p">([[</span><span class="mi">18</span><span class="p">,</span> <span class="mi">32</span><span class="p">],</span> <span class="p">[</span><span class="mi">53</span><span class="p">,</span><span class="mi">48</span><span class="p">],</span> <span class="p">[</span><span class="mi">22</span><span class="p">,</span><span class="mi">45</span><span class="p">],</span> <span class="p">[</span><span class="mi">28</span><span class="p">,</span> <span class="mi">32</span><span class="p">]])</span>
</pre></div>
</div>
</li>
</ol>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.rois">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">rois</span></span><em class="property"><span class="pre">:</span> <span class="pre">RoiList</span></em><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.rois" title="Permalink to this definition">¶</a></dt>
<dd><p>ROIs of the image.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.rotated_crop">
<span class="sig-name descname"><span class="pre">rotated_crop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">origin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.rotated_crop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.rotated_crop" title="Permalink to this definition">¶</a></dt>
<dd><p>Crop the image at four courners of an rotated rectangle. Currently only supports rotation within
yx-plane. An rotated rectangle is specified with positions of a origin and two destinations <cite>dst1</cite>
and <cite>dst2</cite>, i.e., vectors (dst1-origin) and (dst2-origin) represent a rotated rectangle. Let
origin be the origin of a xy-plane, the rotation direction from dst1 to dst2 must be counter-
clockwise, or the cropped image will be reversed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>origin</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em>) – </p></li>
<li><p><strong>dst1</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em>) – </p></li>
<li><p><strong>dst2</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em>) – </p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Cropped array.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.labeledarray.LabeledArray" title="impy.arrays.labeledarray.LabeledArray">LabeledArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.set_scale">
<span class="sig-name descname"><span class="pre">set_scale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.set_scale"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.set_scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Set scales of each axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>other</strong> (<em>dict</em><em> or </em><em>object with axes</em>) – New scales. If dict, it should be like {“x”: 0.1, “y”: 0.1}. If MetaArray, only
scales of common axes are copied.</p></li>
<li><p><strong>kwargs</strong> – This enables function call like set_scale(x=0.1, y=0.1).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.specify">
<span class="sig-name descname"><span class="pre">specify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">center</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Coords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Coords</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labeltype</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'square'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Label</span></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.specify"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.specify" title="Permalink to this definition">¶</a></dt>
<dd><p>Make rectangle or ellipse labels from points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>center</strong> (<em>array like</em><em> or </em><a class="reference internal" href="impy.frame.html#impy.frame.frames.MarkerFrame" title="impy.frame.frames.MarkerFrame"><em>MarkerFrame</em></a>) – Coordinates of centers. For MarkerFrame, it must have the same axes order.</p></li>
<li><p><strong>radius</strong> (<em>float</em><em> or </em><em>array-like</em>) – Radius of labels.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>labeltype</strong> (<em>str</em><em>, </em><em>default is &quot;square&quot;</em>) – The shape of labels.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Labeled regions.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.label.Label" title="impy.arrays.label.Label">Label</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<dl>
<dt>Find single molecules, draw circular labels around them if mean values were greater than 100.</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">coords</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">find_sm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filter_func</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">a</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">100</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">specify</span><span class="p">(</span><span class="n">coords</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">,</span> <span class="n">filt</span><span class="o">=</span><span class="n">filter_func</span><span class="p">,</span> <span class="n">labeltype</span><span class="o">=</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ip</span><span class="o">.</span><span class="n">gui</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.spline_filter">
<span class="sig-name descname"><span class="pre">spline_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'reflect'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'constant'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'nearest'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'mirror'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'wrap'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'mirror'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.spline_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.spline_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Run spline filter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order</strong> (<em>int</em><em>, </em><em>default is 1</em>) – <p>Spline interpolation order.
For more details see <a class="reference external" href="https://scikit-image.org/docs/dev/api/skimage.transform.html#skimage.transform.warp">here</a>.</p>
</p></li>
<li><p><strong>mode</strong> (<em>{&quot;reflect&quot;</em><em>, </em><em>&quot;constant&quot;</em><em>, </em><em>&quot;nearest&quot;</em><em>, </em><em>&quot;mirror&quot;</em><em>, </em><em>&quot;wrap&quot;}</em>) – Edge padding mode.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.labeledarray.LabeledArray" title="impy.arrays.labeledarray.LabeledArray">LabeledArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.split">
<span class="sig-name descname"><span class="pre">split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataList</span><span class="p"><span class="pre">[</span></span><span class="pre">Self</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.split"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.split" title="Permalink to this definition">¶</a></dt>
<dd><p>Split n-dimensional image into (n-1)-dimensional images. This function is different from
<cite>np.split</cite>, which split an array into smaller pieces (n-D to n-D).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>axis</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Along which axis the original image will be split, by default “c”</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Separate images</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of arrays</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.LabeledArray.tile">
<span class="sig-name descname"><span class="pre">tile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">along</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#LabeledArray.tile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.LabeledArray.tile" title="Permalink to this definition">¶</a></dt>
<dd><p>Tile images in a certain order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape</strong> (<em>tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>, </em><em>optional</em>) – Grid shape. This parameter must be specified unless the length of <cite>along</cite> is 2.</p></li>
<li><p><strong>along</strong> (<em>str</em><em>, </em><em>optional</em>) – Axis (Axes) over which will be iterated.</p></li>
<li><p><strong>order</strong> (<em>str</em><em>, </em><em>{&quot;r&quot;</em><em>, </em><em>&quot;c&quot;}</em><em>, </em><em>optional</em>) – <p>Order of iteration. “r” means row-wise and “c” means column-wise.</p>
<dl>
<dt>row-wise</dt><dd><p>—–&gt;
—–&gt;
—–&gt;</p>
</dd>
<dt>column-wise</dt><dd><div class="line-block">
<div class="line">| |</div>
<div class="line">| |</div>
</div>
<p>v v v</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tiled array</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Labeled</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.SegmentedLine">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">impy.arrays.labeledarray.</span></span><span class="sig-name descname"><span class="pre">SegmentedLine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#SegmentedLine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.SegmentedLine" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.SegmentedLine.sample_points">
<span class="sig-name descname"><span class="pre">sample_points</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#SegmentedLine.sample_points"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.SegmentedLine.sample_points" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.SupportAxesSlicing">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">impy.arrays.labeledarray.</span></span><span class="sig-name descname"><span class="pre">SupportAxesSlicing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#SupportAxesSlicing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.SupportAxesSlicing" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Protocol</span></code></p>
<p>A protocol that covariate objects must follow.</p>
<dl class="py property">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.SupportAxesSlicing.axes">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">axes</span></span><em class="property"><span class="pre">:</span> <span class="pre">impy.axes._axes.Axes</span></em><a class="headerlink" href="#impy.arrays.labeledarray.SupportAxesSlicing.axes" title="Permalink to this definition">¶</a></dt>
<dd><p>Axes object bound to the object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.labeledarray.SupportAxesSlicing.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="reference internal" href="../_modules/impy/arrays/labeledarray.html#SupportAxesSlicing.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.labeledarray.SupportAxesSlicing.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Shallow copy of the object.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-impy.arrays.lazy">
<span id="impy-arrays-lazy-module"></span><h2>impy.arrays.lazy module<a class="headerlink" href="#module-impy.arrays.lazy" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">impy.arrays.lazy.</span></span><span class="sig-name descname"><span class="pre">LazyImgArray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">da.core.Array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#impy.arrays.axesmixin.AxesMixin" title="impy.arrays.axesmixin.AxesMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">impy.arrays.axesmixin.AxesMixin</span></code></a></p>
<dl class="py property">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.GB">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">GB</span></span><em class="property"><span class="pre">:</span> <span class="pre">float</span></em><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.GB" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the array size in GB.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.additional_props">
<span class="sig-name descname"><span class="pre">additional_props</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['_source',</span> <span class="pre">'_metadata',</span> <span class="pre">'_name']</span></em><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.additional_props" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.affine">
<span class="sig-name descname"><span class="pre">affine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matrix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shear</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">translation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'constant'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">impy.arrays.lazy.LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.affine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.affine" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of ImgArray.affine. This function returns the same result but the value is evaluated lazily as an dask array.</p>
<p>Convert image by Affine transformation. 2D Affine transformation is written as:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{bmatrix} y'\\ x' \\1 \end{bmatrix} =
\begin{bmatrix} A_{00} &amp; A_{01} &amp; A_{02} \\
                A_{10} &amp; A_{11} &amp; A_{12} \\
                    0 &amp;      0 &amp;      1  \end{bmatrix}
                \begin{bmatrix} y \\x\\ 1 \end{bmatrix}\end{split}\]</div>
<p>and similarly, n-D Affine transformation can be described as (n+1)-D matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matrix</strong> – Affine transformation parameters. See <code class="docutils literal notranslate"><span class="pre">skimage.transform.AffineTransform</span></code> for details.</p></li>
<li><p><strong>scale</strong> – Affine transformation parameters. See <code class="docutils literal notranslate"><span class="pre">skimage.transform.AffineTransform</span></code> for details.</p></li>
<li><p><strong>rotation</strong> – Affine transformation parameters. See <code class="docutils literal notranslate"><span class="pre">skimage.transform.AffineTransform</span></code> for details.</p></li>
<li><p><strong>shear</strong> – Affine transformation parameters. See <code class="docutils literal notranslate"><span class="pre">skimage.transform.AffineTransform</span></code> for details.</p></li>
<li><p><strong>translation</strong> – Affine transformation parameters. See <code class="docutils literal notranslate"><span class="pre">skimage.transform.AffineTransform</span></code> for details.</p></li>
<li><p><strong>order</strong> (<em>int</em><em>, </em><em>default is 1</em>) – <p>Spline interpolation order.
For more details see <a class="reference external" href="https://scikit-image.org/docs/dev/api/skimage.transform.html#skimage.transform.warp">here</a>.</p>
</p></li>
<li><p><strong>mode</strong> (<em>{&quot;reflect&quot;</em><em>, </em><em>&quot;constant&quot;</em><em>, </em><em>&quot;nearest&quot;</em><em>, </em><em>&quot;mirror&quot;</em><em>, </em><em>&quot;wrap&quot;}</em>) – Edge padding mode.</p></li>
<li><p><strong>cval</strong> (<em>float</em><em>, </em><em>default is 0.0</em>) – Constant value for constant padding mode.</p></li>
<li><p><strong>output_shape</strong> (<em>tuple of int</em><em>, </em><em>optional</em>) – Shape of output array.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Transformed image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray">LazyImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.apply_dask_func">
<span class="sig-name descname"><span class="pre">apply_dask_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">funcname</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">impy.arrays.lazy.LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.apply_dask_func"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.apply_dask_func" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply dask array function to the connected dask array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>funcname</strong> (<em>str</em>) – Name of function to apply.</p></li>
<li><p><strong>args</strong> – Parameters that will be passed to <cite>funcname</cite>.</p></li>
<li><p><strong>kwargs</strong> – Parameters that will be passed to <cite>funcname</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Updated one</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray">LazyImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.as_float">
<span class="sig-name descname"><span class="pre">as_float</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">impy.arrays.lazy.LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.as_float"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.as_float" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.as_img_type">
<span class="sig-name descname"><span class="pre">as_img_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">dtype=&lt;class</span> <span class="pre">'numpy.uint16'&gt;</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">impy.arrays.lazy.LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.as_img_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.as_img_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.as_uint16">
<span class="sig-name descname"><span class="pre">as_uint16</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">impy.arrays.lazy.LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.as_uint16"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.as_uint16" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.as_uint8">
<span class="sig-name descname"><span class="pre">as_uint8</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">impy.arrays.lazy.LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.as_uint8"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.as_uint8" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.binning">
<span class="sig-name descname"><span class="pre">binning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">binsize</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_edges</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">impy.arrays.lazy.LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.binning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.binning" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of ImgArray.binning. This function returns the same result but the value is evaluated lazily as an dask array.</p>
<p>Binning of images. This function is similar to <code class="docutils literal notranslate"><span class="pre">rescale</span></code> but is strictly
binned by <span class="math notranslate nohighlight">\(N \times N\)</span> blocks. Also, any numpy functions that accept
“axis” argument are supported for reduce functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>binsize</strong> (<em>int</em><em>, </em><em>default is 2</em>) – Bin size, such as 2x2.</p></li>
<li><p><strong>method</strong> (<em>str</em><em> or </em><em>callable</em><em>, </em><em>default is numpy.mean</em>) – Reduce function applied to each bin.</p></li>
<li><p><strong>check_edges</strong> (<em>bool</em><em>, </em><em>default is True</em>) – If True, only divisible <code class="docutils literal notranslate"><span class="pre">binsize</span></code> is accepted. If False, image is
cropped at the end to match <cite>binsize</cite>.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Binned image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray">LazyImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.chunk_info">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">chunk_info</span></span><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.chunk_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.chunksize">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">chunksize</span></span><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.chunksize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.chunksizeof">
<span class="sig-name descname"><span class="pre">chunksizeof</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.chunksizeof"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.chunksizeof" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.chunksizesof">
<span class="sig-name descname"><span class="pre">chunksizesof</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.chunksizesof"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.chunksizesof" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.closing">
<span class="sig-name descname"><span class="pre">closing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">impy.arrays.lazy.LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.closing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.closing" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of ImgArray.closing. This function returns the same result but the value is evaluated lazily as an dask array.</p>
<p>Morphological closing.</p>
<p>If input is binary image, the running function will automatically switched to
<code class="docutils literal notranslate"><span class="pre">binary_closing</span></code> to speed up calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em>) – <p>Radius of kernel structure. For instance, if input has two spatial dimensions, <code class="docutils literal notranslate"><span class="pre">radius=1</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
<p>and <code class="docutils literal notranslate"><span class="pre">radius=1.8</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>mode</strong> (<em>{&quot;reflect&quot;</em><em>, </em><em>&quot;constant&quot;</em><em>, </em><em>&quot;nearest&quot;</em><em>, </em><em>&quot;mirror&quot;</em><em>, </em><em>&quot;wrap&quot;}</em>) – Edge padding mode.</p></li>
<li><p><strong>cval</strong> (<em>float</em><em>, </em><em>default is 0.0</em>) – Constant value for constant padding mode.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray">LazyImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.compute">
<span class="sig-name descname"><span class="pre">compute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignore_limit</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><span class="pre">impy.arrays.imgarray.ImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.compute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.compute" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute all the task and convert the result into ImgArray. If image size overwhelms MAX_GB
then MemoryError is raised.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.convolve">
<span class="sig-name descname"><span class="pre">convolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kernel</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'reflect'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cval</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">impy.arrays.lazy.LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.convolve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.convolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of ImgArray.convolve. This function returns the same result but the value is evaluated lazily as an dask array.</p>
<p>General linear convolution by running kernel filtering.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kernel</strong> (<em>array-like</em>) – Convolution kernel.</p></li>
<li><p><strong>mode</strong> (<em>{&quot;reflect&quot;</em><em>, </em><em>&quot;constant&quot;</em><em>, </em><em>&quot;nearest&quot;</em><em>, </em><em>&quot;mirror&quot;</em><em>, </em><em>&quot;wrap&quot;}</em>) – Edge padding mode.</p></li>
<li><p><strong>cval</strong> (<em>float</em><em>, </em><em>default is 0.0</em>) – Constant value for constant padding mode.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Convolved image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray">LazyImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.crop_center">
<span class="sig-name descname"><span class="pre">crop_center</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">impy.arrays.lazy.LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.crop_center"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.crop_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of LabeledArray.crop_center. This function returns the same result but the value is evaluated lazily as an dask array.</p>
<p>Crop out the center of an image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scale</strong> (<em>float</em><em> or </em><em>array-like</em><em>, </em><em>default is 0.5</em>) – Scale of the cropped image. If an array is given, each axis will be cropped in different scales,
using each value respectively.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>CroppedImage</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Self</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<ol class="arabic">
<li><p>Create a <span class="math notranslate nohighlight">\(512\times512\)</span> image from a <span class="math notranslate nohighlight">\(1024\times1024\)</span> image.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img_cropped</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">crop_center</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Create a <span class="math notranslate nohighlight">\(21\times256\times256\)</span> image from a <span class="math notranslate nohighlight">\(63\times1024\times1024\)</span> image.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img_cropped</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">crop_center</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
</li>
</ol>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.dilation">
<span class="sig-name descname"><span class="pre">dilation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">impy.arrays.lazy.LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.dilation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.dilation" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of ImgArray.dilation. This function returns the same result but the value is evaluated lazily as an dask array.</p>
<p>Morphological dilation. If input is binary image, the running function will automatically switched to
<code class="docutils literal notranslate"><span class="pre">binary_dilation</span></code> to speed up calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em>) – <p>Radius of kernel structure. For instance, if input has two spatial dimensions, <code class="docutils literal notranslate"><span class="pre">radius=1</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
<p>and <code class="docutils literal notranslate"><span class="pre">radius=1.8</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
</p></li>
<li><p><strong>mode</strong> (<em>{&quot;reflect&quot;</em><em>, </em><em>&quot;constant&quot;</em><em>, </em><em>&quot;nearest&quot;</em><em>, </em><em>&quot;mirror&quot;</em><em>, </em><em>&quot;wrap&quot;}</em>) – Edge padding mode.</p></li>
<li><p><strong>cval</strong> (<em>float</em><em>, </em><em>default is 0.0</em>) – Constant value for constant padding mode.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray">LazyImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.drift_correction">
<span class="sig-name descname"><span class="pre">drift_correction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shift</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Coords</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">ImgArray</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zero_ave</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">along</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">affine_kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.drift_correction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.drift_correction" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of ImgArray.drift_correction. This function returns the same result but the value is evaluated lazily as an dask array.</p>
<p>Drift correction using iterative Affine translation. If translation vectors <code class="docutils literal notranslate"><span class="pre">shift</span></code>
is not given, then it will be determined using <code class="docutils literal notranslate"><span class="pre">track_drift</span></code> method of ImgArray.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shift</strong> (<em>DataFrame</em><em> or </em><em>(</em><em>N</em><em>, </em><em>D</em><em>) </em><em>array</em><em>, </em><em>optional</em>) – Translation vectors. If DataFrame, it must have columns named with all the symbols
contained in <code class="docutils literal notranslate"><span class="pre">dims</span></code>.</p></li>
<li><p><strong>ref</strong> (<a class="reference internal" href="#impy.arrays.imgarray.ImgArray" title="impy.arrays.imgarray.ImgArray"><em>ImgArray</em></a><em>, </em><em>optional</em>) – The reference n-D image to determine drift, if <code class="docutils literal notranslate"><span class="pre">shift</span></code> was not given.</p></li>
<li><p><strong>zero_ave</strong> (<em>bool</em><em>, </em><em>default is True</em>) – If True, average shift will be zero.</p></li>
<li><p><strong>along</strong> (<em>AxisLike</em><em>, </em><em>optional</em>) – Along which axis drift will be corrected.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
<li><p><strong>affine_kwargs</strong> – Keyword arguments that will be passed to <code class="docutils literal notranslate"><span class="pre">warp</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Corrected image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray">LazyImgArray</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<dl>
<dt>Drift correction of multichannel image using the first channel as the reference.</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">drift_correction</span><span class="p">(</span><span class="n">ref</span><span class="o">=</span><span class="n">img</span><span class="p">[</span><span class="s2">&quot;c=0&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.dtype">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">dtype</span></span><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.edge_filter">
<span class="sig-name descname"><span class="pre">edge_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'sobel'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">impy.arrays.lazy.LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.edge_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.edge_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of ImgArray.edge_filter. This function returns the same result but the value is evaluated lazily as an dask array.</p>
<p>Sobel filter. This filter is useful for edge detection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>{&quot;sobel&quot;</em><em>, </em><em>&quot;farid&quot;</em><em>, </em><em>&quot;scharr&quot;</em><em>, </em><em>&quot;prewitt&quot;}</em><em>, </em><em>default is &quot;sobel&quot;</em>) – Edge operator name.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray">LazyImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.erosion">
<span class="sig-name descname"><span class="pre">erosion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">impy.arrays.lazy.LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.erosion"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.erosion" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of ImgArray.erosion. This function returns the same result but the value is evaluated lazily as an dask array.</p>
<p>Morphological erosion.</p>
<p>If input is binary image, the running function will automatically switched to
<code class="docutils literal notranslate"><span class="pre">binary_erosion</span></code> to speed up calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em>) – <p>Radius of kernel structure. For instance, if input has two spatial dimensions, <code class="docutils literal notranslate"><span class="pre">radius=1</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
<p>and <code class="docutils literal notranslate"><span class="pre">radius=1.8</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
</p></li>
<li><p><strong>mode</strong> (<em>{&quot;reflect&quot;</em><em>, </em><em>&quot;constant&quot;</em><em>, </em><em>&quot;nearest&quot;</em><em>, </em><em>&quot;mirror&quot;</em><em>, </em><em>&quot;wrap&quot;}</em>) – Edge padding mode.</p></li>
<li><p><strong>cval</strong> (<em>float</em><em>, </em><em>default is 0.0</em>) – Constant value for constant padding mode.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray">LazyImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.fft">
<span class="sig-name descname"><span class="pre">fft</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span> <span class="p"><span class="pre">|</span></span> <span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span> <span class="p"><span class="pre">|</span></span> <span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'same'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.fft"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.fft" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of ImgArray.fft. This function returns the same result but the value is evaluated lazily as an dask array.</p>
<p>Fast Fourier transformation. This function returns complex array, which is
inconpatible with some ImgArray functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape</strong> (<em>int</em><em>, </em><em>iterable of int</em><em>, </em><em>&quot;square&quot;</em><em> or </em><em>&quot;same&quot;</em>) – Output shape. Input image is padded or cropped according to this value:
- integers: padded or cropped to the specified shape.
- “square”: padded to smallest 2^N-long square.
- “same” (default): no padding or cropping.</p></li>
<li><p><strong>shift</strong> (<em>bool</em><em>, </em><em>default is True</em>) – If True, call <code class="docutils literal notranslate"><span class="pre">np.fft.fftshift</span></code> in the end.</p></li>
<li><p><strong>double_precision</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, FFT will be calculated using 64-bit float and 128-bit complex.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>FFT image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray">LazyImgArray</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">local_dft</span></code></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.gaussian_filter">
<span class="sig-name descname"><span class="pre">gaussian_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">impy.arrays.lazy.LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.gaussian_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.gaussian_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of ImgArray.gaussian_filter. This function returns the same result but the value is evaluated lazily as an dask array.</p>
<p>Run Gaussian filter (Gaussian blur).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma</strong> (<em>float</em><em> or </em><em>array of float</em><em>, </em><em>optional</em>) – Standard deviation(s) of Gaussian filter.
If a scalar value is given, same standard deviation will applied to all the spatial dimensions.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray">LazyImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.gb">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">gb</span></span><em class="property"><span class="pre">:</span> <span class="pre">float</span></em><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.gb" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the array size in GB.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.ifft">
<span class="sig-name descname"><span class="pre">ifft</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">real</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">impy.arrays.lazy.LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.ifft"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.ifft" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of ImgArray.ifft. This function returns the same result but the value is evaluated lazily as an dask array.</p>
<p>Fast Inverse Fourier transformation. Complementary function with <cite>fft()</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>real</strong> (<em>bool</em><em>, </em><em>default is True</em>) – If True, only the real part is returned.</p></li>
<li><p><strong>shift</strong> (<em>bool</em><em>, </em><em>default is True</em>) – If True, call <code class="docutils literal notranslate"><span class="pre">np.fft.ifftshift</span></code> at the first.</p></li>
<li><p><strong>double_precision</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, FFT will be calculated using 64-bit float and 128-bit complex.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>IFFT image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray">LazyImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.imsave">
<span class="sig-name descname"><span class="pre">imsave</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">save_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span> <span class="p"><span class="pre">|</span></span> <span class="pre">Path</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.imsave"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.imsave" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of LabeledArray.imsave. This function returns the same result but the value is evaluated lazily as an dask array.</p>
<p>Save image at the same directory as the original image by default.</p>
<p>For tif file format, if the image contains wrong axes for ImageJ (= except for tzcyx),
then it will converted automatically if possible. For mrc file format, only zyx and yx is
allowed. zyx-scale is also saved.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>save_path</strong> (<em>str</em>) – File name.</p></li>
<li><p><strong>dtype</strong> (<em>dtype-like</em><em>, </em><em>optional</em>) – In what data type img will be saved.</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>default is True</em>) – Whether to overwrite the file if it already exists.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.itemsize">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">itemsize</span></span><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.itemsize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.kalman_filter">
<span class="sig-name descname"><span class="pre">kalman_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gain</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_var</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">along</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'t'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">impy.arrays.lazy.LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.kalman_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.kalman_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of ImgArray.kalman_filter. This function returns the same result but the value is evaluated lazily as an dask array.</p>
<p>Kalman filter for image smoothing. This function is same as “Kalman Stack Filter” in ImageJ but support
batch processing. This filter is useful for preprocessing of particle tracking.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gain</strong> (<em>float</em><em>, </em><em>default is 0.8</em>) – Filter gain.</p></li>
<li><p><strong>noise_var</strong> (<em>float</em><em>, </em><em>default is 0.05</em>) – Initial estimate of noise variance.</p></li>
<li><p><strong>along</strong> (<em>str</em><em>, </em><em>default is &quot;t&quot;</em>) – Which axis will be the time axis.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray">LazyImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.laplacian_filter">
<span class="sig-name descname"><span class="pre">laplacian_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">impy.arrays.lazy.LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.laplacian_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.laplacian_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of ImgArray.laplacian_filter. This function returns the same result but the value is evaluated lazily as an dask array.</p>
<p>Edge detection using Laplacian filter. Kernel is made by <cite>skimage</cite>’s function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>int</em><em>, </em><em>default is 1</em>) – Radius of kernel. Shape of kernel will be (2*radius+1, 2*radius+1).</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray">LazyImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.mean_filter">
<span class="sig-name descname"><span class="pre">mean_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">impy.arrays.lazy.LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.mean_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.mean_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of ImgArray.mean_filter. This function returns the same result but the value is evaluated lazily as an dask array.</p>
<p>Mean filter. Kernel is filled with same values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em>) – <p>Radius of kernel structure. For instance, if input has two spatial dimensions, <code class="docutils literal notranslate"><span class="pre">radius=1</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
<p>and <code class="docutils literal notranslate"><span class="pre">radius=1.8</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
</p></li>
<li><p><strong>mode</strong> (<em>{&quot;reflect&quot;</em><em>, </em><em>&quot;constant&quot;</em><em>, </em><em>&quot;nearest&quot;</em><em>, </em><em>&quot;mirror&quot;</em><em>, </em><em>&quot;wrap&quot;}</em>) – Edge padding mode.</p></li>
<li><p><strong>cval</strong> (<em>float</em><em>, </em><em>default is 0.0</em>) – Constant value for constant padding mode.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray">LazyImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.median_filter">
<span class="sig-name descname"><span class="pre">median_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">impy.arrays.lazy.LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.median_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.median_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of ImgArray.median_filter. This function returns the same result but the value is evaluated lazily as an dask array.</p>
<p>Running multi-dimensional median filter.</p>
<p>This filter is useful for deleting outliers generated by noise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em>) – <p>Radius of kernel structure. For instance, if input has two spatial dimensions, <code class="docutils literal notranslate"><span class="pre">radius=1</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
<p>and <code class="docutils literal notranslate"><span class="pre">radius=1.8</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
</p></li>
<li><p><strong>mode</strong> (<em>{&quot;reflect&quot;</em><em>, </em><em>&quot;constant&quot;</em><em>, </em><em>&quot;nearest&quot;</em><em>, </em><em>&quot;mirror&quot;</em><em>, </em><em>&quot;wrap&quot;}</em>) – Edge padding mode.</p></li>
<li><p><strong>cval</strong> (<em>float</em><em>, </em><em>default is 0.0</em>) – Constant value for constant padding mode.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray">LazyImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.metadata">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">metadata</span></span><em class="property"><span class="pre">:</span> <span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">typing.Any</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.name">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.ndim">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">ndim</span></span><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.ndim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.opening">
<span class="sig-name descname"><span class="pre">opening</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">impy.arrays.lazy.LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.opening"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.opening" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of ImgArray.opening. This function returns the same result but the value is evaluated lazily as an dask array.</p>
<p>Morphological opening. If input is binary image, the running function will automatically switched to
<code class="docutils literal notranslate"><span class="pre">binary_opening</span></code> to speed up calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em>) – <p>Radius of kernel structure. For instance, if input has two spatial dimensions, <code class="docutils literal notranslate"><span class="pre">radius=1</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
<p>and <code class="docutils literal notranslate"><span class="pre">radius=1.8</span></code> gives a structure</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div></blockquote>
</p></li>
<li><p><strong>mode</strong> (<em>{&quot;reflect&quot;</em><em>, </em><em>&quot;constant&quot;</em><em>, </em><em>&quot;nearest&quot;</em><em>, </em><em>&quot;mirror&quot;</em><em>, </em><em>&quot;wrap&quot;}</em>) – Edge padding mode.</p></li>
<li><p><strong>cval</strong> (<em>float</em><em>, </em><em>default is 0.0</em>) – Constant value for constant padding mode.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray">LazyImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.pad">
<span class="sig-name descname"><span class="pre">pad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pad_width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'constant'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">impy.arrays.lazy.LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.pad"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.pad" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of ImgArray.pad. This function returns the same result but the value is evaluated lazily as an dask array.</p>
<p>Pad image only for spatial dimensions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pad_width</strong> – See documentation of np.pad().</p></li>
<li><p><strong>mode</strong> – See documentation of np.pad().</p></li>
<li><p><strong>**kwargs</strong> – See documentation of np.pad().</p></li>
<li><p><strong>dims</strong> (<em>int</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – Which dimension to pad.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Padded image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray">LazyImgArray</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Suppose <code class="docutils literal notranslate"><span class="pre">img</span></code> has zyx-axes.</p>
<ol class="arabic">
<li><dl>
<dt>Padding 5 pixels in zyx-direction:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">pad</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>Padding 5 pixels in yx-direction:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">pad</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">dims</span><span class="o">=</span><span class="s2">&quot;yx&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>Padding 5 pixels in yx-direction and 2 pixels in z-direction:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">pad</span><span class="p">([(</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">)])</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>Padding 10 pixels in z-(-)-direction and 5 pixels in z-(+)-direction.</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">pad</span><span class="p">([(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">)],</span> <span class="n">dims</span><span class="o">=</span><span class="s2">&quot;z&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</li>
</ol>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.power_spectra">
<span class="sig-name descname"><span class="pre">power_spectra</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'same'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zero_norm</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">impy.arrays.lazy.LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.power_spectra"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.power_spectra" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of ImgArray.power_spectra. This function returns the same result but the value is evaluated lazily as an dask array.</p>
<p>Return n-D power spectra of images, which is defined as:</p>
<div class="math notranslate nohighlight">
\[P = Re(F[I_{img}])^2 + Im(F[I_{img}])^2\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape</strong> (<em>int</em><em>, </em><em>iterable of int</em><em>, </em><em>&quot;square&quot;</em><em> or </em><em>&quot;same&quot;</em>) – Output shape. Input image is padded or cropped according to this value:
- integers: padded or cropped to the specified shape.
- “square”: padded to smallest 2^N-long square.
- “same” (default): no padding or cropping.</p></li>
<li><p><strong>norm</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, maximum value of power spectra is adjusted to 1.</p></li>
<li><p><strong>double_precision</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, FFT will be calculated using 64-bit float and 128-bit complex.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Power spectra</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray">LazyImgArray</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">local_power_spectra</span></code></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.proj">
<span class="sig-name descname"><span class="pre">proj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'mean'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">impy.arrays.lazy.LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.proj"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.proj" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of ImgArray.proj. This function returns the same result but the value is evaluated lazily as an dask array.</p>
<p>Projection along any axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axis</strong> (<em>str</em><em>, </em><em>optional</em>) – Along which axis projection will be calculated. If None, most plausible one will be chosen.</p></li>
<li><p><strong>method</strong> (<em>str</em><em> or </em><em>callable</em><em>, </em><em>default is mean-projection.</em>) – Projection method. If str is given, it will converted to numpy function.</p></li>
<li><p><strong>mask</strong> (<em>array-like</em><em>, </em><em>optional</em>) – If provided, input image will be converted to np.ma.array and <code class="docutils literal notranslate"><span class="pre">method</span></code> will also be interpreted
as an masked functio if possible.</p></li>
<li><p><strong>**kwargs</strong> – Other keyword arguments that will passed to projection function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Projected image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray">LazyImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.rechunk">
<span class="sig-name descname"><span class="pre">rechunk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block_size_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">balance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">impy.arrays.lazy.LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.rechunk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.rechunk" title="Permalink to this definition">¶</a></dt>
<dd><p>Rechunk the bound dask array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chunks</strong> – Passed directly to dask.array’s rechunk</p></li>
<li><p><strong>threshold</strong> – Passed directly to dask.array’s rechunk</p></li>
<li><p><strong>block_size_limit</strong> – Passed directly to dask.array’s rechunk</p></li>
<li><p><strong>balance</strong> – Passed directly to dask.array’s rechunk</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Rechunked dask array is bound.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray">LazyImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.release">
<span class="sig-name descname"><span class="pre">release</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">impy.arrays.lazy.LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.release"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.release" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute all the tasks and store the data in memory map, and read it as a dask array
again.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.shape">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.size">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">size</span></span><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.sort_axes">
<span class="sig-name descname"><span class="pre">sort_axes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.sort_axes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.sort_axes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.source">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">source</span></span><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.spline_filter">
<span class="sig-name descname"><span class="pre">spline_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'reflect'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'constant'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'nearest'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'mirror'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'wrap'</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'mirror'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.spline_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.spline_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of LabeledArray.spline_filter. This function returns the same result but the value is evaluated lazily as an dask array.</p>
<p>Run spline filter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order</strong> (<em>int</em><em>, </em><em>default is 1</em>) – <p>Spline interpolation order.
For more details see <a class="reference external" href="https://scikit-image.org/docs/dev/api/skimage.transform.html#skimage.transform.warp">here</a>.</p>
</p></li>
<li><p><strong>mode</strong> (<em>{&quot;reflect&quot;</em><em>, </em><em>&quot;constant&quot;</em><em>, </em><em>&quot;nearest&quot;</em><em>, </em><em>&quot;mirror&quot;</em><em>, </em><em>&quot;wrap&quot;}</em>) – Edge padding mode.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray">LazyImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.tiled_lowpass_filter">
<span class="sig-name descname"><span class="pre">tiled_lowpass_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cutoff</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlap</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">16</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray"><span class="pre">impy.arrays.lazy.LazyImgArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.tiled_lowpass_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.tiled_lowpass_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of ImgArray.tiled_lowpass_filter. This function returns the same result but the value is evaluated lazily as an dask array.</p>
<p>Tile-by-tile Butterworth low-pass filter. This method is an approximation of the standard
low-pass filter, which would be useful when the image is large.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cutoff</strong> (<em>float</em><em> or </em><em>array-like</em><em>, </em><em>default is 0.2</em>) – Cutoff frequency.</p></li>
<li><p><strong>chunks</strong> (<em>str</em><em> or </em><em>sequence of int</em>) – Chunk size of each lowpass filter task.</p></li>
<li><p><strong>order</strong> (<em>float</em><em>, </em><em>default is 2</em>) – Steepness of cutoff.</p></li>
<li><p><strong>overlap</strong> (<em>int</em><em>, </em><em>default is 16</em>) – Overlapping pixels at the edges of tiles.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, input itself is updated to the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.lazy.LazyImgArray" title="impy.arrays.lazy.LazyImgArray">LazyImgArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.track_drift">
<span class="sig-name descname"><span class="pre">track_drift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">along</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upsample_factor</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">da.core.Array</span></span></span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.track_drift"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.track_drift" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of ImgArray.track_drift. This function returns the same result but the value is evaluated lazily as an dask array.</p>
<p>Calculate yx-directional drift using the method of <cite>skimage.registration.phase_cross_correlation</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>along</strong> (<em>AxisLike</em><em>, </em><em>optional</em>) – Along which axis drift will be calculated.</p></li>
<li><p><strong>show_drift</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If True, plot the result.</p></li>
<li><p><strong>upsample_factor</strong> (<em>int</em><em>, </em><em>default is 10</em>) – Up-sampling factor when calculating phase cross correlation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DataFrame structure with x,y columns</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="impy.frame.html#impy.frame.frames.MarkerFrame" title="impy.frame.frames.MarkerFrame">MarkerFrame</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.transpose">
<span class="sig-name descname"><span class="pre">transpose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#LazyImgArray.transpose"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.transpose" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="impy.arrays.lazy.LazyImgArray.value">
<span class="sig-name descname"><span class="pre">value</span></span><em class="property"><span class="pre">:</span> <span class="pre">Any</span></em><a class="headerlink" href="#impy.arrays.lazy.LazyImgArray.value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="impy.arrays.lazy.iter_slice">
<span class="sig-prename descclassname"><span class="pre">impy.arrays.lazy.</span></span><span class="sig-name descname"><span class="pre">iter_slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iteraxes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_axes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/lazy.html#iter_slice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.lazy.iter_slice" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-impy.arrays.phasearray">
<span id="impy-arrays-phasearray-module"></span><h2>impy.arrays.phasearray module<a class="headerlink" href="#module-impy.arrays.phasearray" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="impy.arrays.phasearray.PhaseArray">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">impy.arrays.phasearray.</span></span><span class="sig-name descname"><span class="pre">PhaseArray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rad'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/phasearray.html#PhaseArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.phasearray.PhaseArray" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#impy.arrays.labeledarray.LabeledArray" title="impy.arrays.labeledarray.LabeledArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">impy.arrays.labeledarray.LabeledArray</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="impy.arrays.phasearray.PhaseArray.additional_props">
<span class="sig-name descname"><span class="pre">additional_props</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['_source',</span> <span class="pre">'_metadata',</span> <span class="pre">'_name',</span> <span class="pre">'unit',</span> <span class="pre">'border']</span></em><a class="headerlink" href="#impy.arrays.phasearray.PhaseArray.additional_props" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.phasearray.PhaseArray.as_exp">
<span class="sig-name descname"><span class="pre">as_exp</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ImgArray</span></span></span><a class="reference internal" href="../_modules/impy/arrays/phasearray.html#PhaseArray.as_exp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.phasearray.PhaseArray.as_exp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.phasearray.PhaseArray.binning">
<span class="sig-name descname"><span class="pre">binning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">binsize</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_edges</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/phasearray.html#PhaseArray.binning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.phasearray.PhaseArray.binning" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="impy.arrays.phasearray.PhaseArray.border">
<span class="sig-name descname"><span class="pre">border</span></span><em class="property"><span class="pre">:</span> <span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#impy.arrays.phasearray.PhaseArray.border" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.phasearray.PhaseArray.deg2rad">
<span class="sig-name descname"><span class="pre">deg2rad</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.phasearray.PhaseArray" title="impy.arrays.phasearray.PhaseArray"><span class="pre">impy.arrays.phasearray.PhaseArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/phasearray.html#PhaseArray.deg2rad"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.phasearray.PhaseArray.deg2rad" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.phasearray.PhaseArray.imshow">
<span class="sig-name descname"><span class="pre">imshow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.3</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/phasearray.html#PhaseArray.imshow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.phasearray.PhaseArray.imshow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.phasearray.PhaseArray.map_coordinates">
<span class="sig-name descname"><span class="pre">map_coordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coordinates</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">PaddingMode</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'constant'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cval</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefilter</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span> <span class="p"><span class="pre">|</span></span> <span class="pre">None</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dims</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/phasearray.html#PhaseArray.map_coordinates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.phasearray.PhaseArray.map_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Coordinate mapping in the image. See <code class="docutils literal notranslate"><span class="pre">scipy.ndimage.map_coordinates</span></code>.</p>
<p>For a <code class="docutils literal notranslate"><span class="pre">PhaseArray</span></code>, standard interpolation does not work because of its specific
addition rule. Phase image is first converted into a complex array by <span class="math notranslate nohighlight">\(e^{-i \psi}\)</span>
and the phase is restored by logarithm after interpolation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coordinates</strong> (<em>ArrayLike</em>) – Interpolation coordinates. Must be (D, N) or (D, X_1, …, X_D) shape.</p></li>
<li><p><strong>mode</strong> (<em>{&quot;reflect&quot;</em><em>, </em><em>&quot;constant&quot;</em><em>, </em><em>&quot;nearest&quot;</em><em>, </em><em>&quot;mirror&quot;</em><em>, </em><em>&quot;wrap&quot;}</em>) – Edge padding mode.</p></li>
<li><p><strong>cval</strong> (<em>float</em><em>, </em><em>default is 0.0</em>) – Constant value for constant padding mode.</p></li>
<li><p><strong>order</strong> (<em>int</em><em>, </em><em>default is 1</em>) – <p>Spline interpolation order.
For more details see <a class="reference external" href="https://scikit-image.org/docs/dev/api/skimage.transform.html#skimage.transform.warp">here</a>.</p>
</p></li>
<li><p><strong>prefilter</strong> (<em>bool</em><em>, </em><em>optional</em>) – Spline prefilter applied to the array. By default set to True if <code class="docutils literal notranslate"><span class="pre">order</span></code> is larger
than 1.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions. If string is given, each symbol is interpeted as an axis name of spatial dimensions. If an integer is given, it is interpreted as the number of spatial dimensions.
For instance, <code class="docutils literal notranslate"><span class="pre">dims=&quot;yx&quot;</span></code> means axes <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> are spatial dimensions and function is applied to other axes, say, <code class="docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> and/or <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">dims=3</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">dims=&quot;zyx&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Transformed image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.phasearray.PhaseArray" title="impy.arrays.phasearray.PhaseArray">PhaseArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.phasearray.PhaseArray.mean_filter">
<span class="sig-name descname"><span class="pre">mean_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.phasearray.PhaseArray" title="impy.arrays.phasearray.PhaseArray"><span class="pre">impy.arrays.phasearray.PhaseArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/phasearray.html#PhaseArray.mean_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.phasearray.PhaseArray.mean_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Mean filter using phase averaging method:</p>
<p><span class="math notranslate nohighlight">\(\arg{\sum_{k}{e^{i X_k}}}\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>default is 1</em>) – Radius of kernel.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Spatial dimensions.</p></li>
<li><p><strong>update</strong> (<em>bool</em><em>, </em><em>default is False</em>) – If update self to filtered image.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.phasearray.PhaseArray" title="impy.arrays.phasearray.PhaseArray">PhaseArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="impy.arrays.phasearray.PhaseArray.periodicity">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">periodicity</span></span><em class="property"><span class="pre">:</span> <span class="pre">float</span></em><a class="headerlink" href="#impy.arrays.phasearray.PhaseArray.periodicity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the periodicity of current border.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.phasearray.PhaseArray.rad2deg">
<span class="sig-name descname"><span class="pre">rad2deg</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.phasearray.PhaseArray" title="impy.arrays.phasearray.PhaseArray"><span class="pre">impy.arrays.phasearray.PhaseArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/phasearray.html#PhaseArray.rad2deg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.phasearray.PhaseArray.rad2deg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.phasearray.PhaseArray.regionprops">
<span class="sig-name descname"><span class="pre">regionprops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">properties</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span> <span class="p"><span class="pre">|</span></span> <span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">('phase_mean',)</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_properties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataDict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">PropArray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/impy/arrays/phasearray.html#PhaseArray.regionprops"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.phasearray.PhaseArray.regionprops" title="Permalink to this definition">¶</a></dt>
<dd><p>Measure region properties.</p>
<p>Run <code class="docutils literal notranslate"><span class="pre">skimage</span></code>’s <code class="docutils literal notranslate"><span class="pre">regionprops()</span></code> function and return the results as PropArray, so
that you can access using flexible slicing. For example, if a tcyx-image is
analyzed with <code class="docutils literal notranslate"><span class="pre">properties=(&quot;X&quot;,</span> <span class="pre">&quot;Y&quot;)</span></code>, then you can get X’s time-course profile
of channel 1 at label 3 by <code class="docutils literal notranslate"><span class="pre">prop[&quot;X&quot;][&quot;N=5;c=1&quot;]</span></code> or <code class="docutils literal notranslate"><span class="pre">prop.X[&quot;N=5;c=1&quot;]</span></code>.
In PhaseArray, instead of mean_intensity you should use “phase_mean”. The
phase_mean function is included so that it can be passed in <code class="docutils literal notranslate"><span class="pre">properties</span></code> argument.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>properties</strong> (<em>iterable</em><em>, </em><em>optional</em>) – properties to analyze, see skimage.measure.regionprops.</p></li>
<li><p><strong>extra_properties</strong> (<em>iterable of callable</em><em>, </em><em>optional</em>) – extra properties to analyze, see skimage.measure.regionprops.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataDict of PropArray</p>
</dd>
</dl>
<p class="rubric">Example</p>
<dl>
<dt>Measure region properties around single molecules.</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">coords</span> <span class="o">=</span> <span class="n">reference_img</span><span class="o">.</span><span class="n">centroid_sm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">specify</span><span class="p">(</span><span class="n">coords</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">labeltype</span><span class="o">=</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">props</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">regionprops</span><span class="p">()</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.phasearray.PhaseArray.reslice">
<span class="sig-name descname"><span class="pre">reslice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.specials.PropArray" title="impy.arrays.specials.PropArray"><span class="pre">impy.arrays.specials.PropArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/phasearray.html#PhaseArray.reslice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.phasearray.PhaseArray.reslice" title="Permalink to this definition">¶</a></dt>
<dd><p>Measure line profile iteratively for every slice of image.</p>
<p>Because input is phase, we can not apply standard interpolation to calculate
intensities on float-coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src</strong> (<em>array-like</em>) – Source coordinate.</p></li>
<li><p><strong>dst</strong> (<em>array-like</em>) – Destination coordinate.</p></li>
<li><p><strong>order</strong> (<em>int</em><em>, </em><em>default is 1</em>) – Spline interpolation order.</p></li>
<li><p><strong>dims</strong> (<em>int</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – Spatial dimensions.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Line scans.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#impy.arrays.specials.PropArray" title="impy.arrays.specials.PropArray">PropArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.phasearray.PhaseArray.set_border">
<span class="sig-name descname"><span class="pre">set_border</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/impy/arrays/phasearray.html#PhaseArray.set_border"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.phasearray.PhaseArray.set_border" title="Permalink to this definition">¶</a></dt>
<dd><p>Set new border safely.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>float</em>) – New lower border.</p></li>
<li><p><strong>b</strong> (<em>float</em>) – New higher border.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="impy.arrays.phasearray.PhaseArray.unit">
<span class="sig-name descname"><span class="pre">unit</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#impy.arrays.phasearray.PhaseArray.unit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-impy.arrays.specials">
<span id="impy-arrays-specials-module"></span><h2>impy.arrays.specials module<a class="headerlink" href="#module-impy.arrays.specials" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="impy.arrays.specials.PropArray">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">impy.arrays.specials.</span></span><span class="sig-name descname"><span class="pre">PropArray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/specials.html#PropArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.specials.PropArray" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="impy.arrays.bases.html#impy.arrays.bases.metaarray.MetaArray" title="impy.arrays.bases.metaarray.MetaArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">impy.arrays.bases.metaarray.MetaArray</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="impy.arrays.specials.PropArray.additional_props">
<span class="sig-name descname"><span class="pre">additional_props</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['_source',</span> <span class="pre">'_metadata',</span> <span class="pre">'_name',</span> <span class="pre">'propname']</span></em><a class="headerlink" href="#impy.arrays.specials.PropArray.additional_props" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.specials.PropArray.as_frame">
<span class="sig-name descname"><span class="pre">as_frame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">colname</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'f'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AxesFrame</span></span></span><a class="reference internal" href="../_modules/impy/arrays/specials.html#PropArray.as_frame"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.specials.PropArray.as_frame" title="Permalink to this definition">¶</a></dt>
<dd><p>N-dimensional data to DataFrame. The intensity data is stored in the <cite>colname</cite> column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>colname</strong> (<em>str</em><em>, </em><em>default is &quot;f&quot;</em>) – The name of new column.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DataFrame with PropArray data.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="impy.frame.html#impy.frame.frames.AxesFrame" title="impy.frame.frames.AxesFrame">AxesFrame</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.specials.PropArray.curve_fit">
<span class="sig-name descname"><span class="pre">curve_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'t'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_fit</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="impy.html#impy.collections.DataDict" title="impy.collections.DataDict"><span class="pre">impy.collections.DataDict</span></a><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="#impy.arrays.specials.PropArray" title="impy.arrays.specials.PropArray"><span class="pre">impy.arrays.specials.PropArray</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/impy/arrays/specials.html#PropArray.curve_fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.specials.PropArray.curve_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Run scipy.optimize.curve_fit for each dimesion.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<em>callable</em>) – Model function.</p></li>
<li><p><strong>p0</strong> (<em>array</em><em> or </em><em>callable</em><em>, </em><em>optional</em>) – Initial parameter. Callable object that estimate initial paramter can also
be passed here.</p></li>
<li><p><strong>dims</strong> (<em>str</em><em>, </em><em>by default &quot;t&quot;</em>) – Along which axes fitting algorithms are conducted.</p></li>
<li><p><strong>return_fit</strong> (<em>bool</em><em>, </em><em>by default True</em>) – If fitting trajectories are returned. If the input array is large, this will
save much memory.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>params : Fitting parameters
covs : Covariances
fit : fitting trajectories (if return_fit==True)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="impy.html#impy.collections.DataDict" title="impy.collections.DataDict">DataDict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.specials.PropArray.hist">
<span class="sig-name descname"><span class="pre">hist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">along</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'N'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'jet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap_range</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">(0.0,</span> <span class="pre">1.0)</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#impy.arrays.specials.PropArray" title="impy.arrays.specials.PropArray"><span class="pre">impy.arrays.specials.PropArray</span></a></span></span><a class="reference internal" href="../_modules/impy/arrays/specials.html#PropArray.hist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.specials.PropArray.hist" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot histogram.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>along</strong> (<em>str</em><em>, </em><em>optional</em>) – Which axis will be the x-axis of plot, by default None</p></li>
<li><p><strong>bins</strong> (<em>int</em><em>, </em><em>optional</em>) – Bin number of histogram.</p></li>
<li><p><strong>cmap</strong> (<em>str</em><em>, </em><em>default is &quot;jet&quot;</em>) – Colormap of each graph.</p></li>
<li><p><strong>cmap_range</strong> (<em>tuple</em><em>, </em><em>default is</em><em> (</em><em>0</em><em>, </em><em>1</em><em>)</em>) – Range of float for colormap iteration.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="impy.arrays.specials.PropArray.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">along</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'jet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">1)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/impy/arrays/specials.html#PropArray.plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#impy.arrays.specials.PropArray.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot all the results with x-axis defined by <cite>along</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>along</strong> (<em>str</em><em>, </em><em>optional</em>) – Which axis will be the x-axis of plot, by default None</p></li>
<li><p><strong>cmap</strong> (<em>str</em><em>, </em><em>default is &quot;jet&quot;</em>) – Colormap of each graph.</p></li>
<li><p><strong>cmap_range</strong> (<em>tuple</em><em>, </em><em>default is</em><em> (</em><em>0</em><em>, </em><em>1</em><em>)</em>) – Range of float for colormap iteration.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="impy.arrays.specials.PropArray.propname">
<span class="sig-name descname"><span class="pre">propname</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#impy.arrays.specials.PropArray.propname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-impy.arrays">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-impy.arrays" title="Permalink to this headline">¶</a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="impy.html" class="btn btn-neutral float-left" title="impy package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="impy.arrays.bases.html" class="btn btn-neutral float-right" title="impy.arrays.bases package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Hanjin Liu.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>